[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `id`, `contenu`, `date_creation`, `updated_at`, `titre`, `description`, `type_activite_id`, `duree` FROM `activites` AS `Activite` WHERE `Activite`.`id` = '14';
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `id`, `contenu`, `date_creation`, `updated_at`, `titre`, `description`, `type_activite_id`, `duree` FROM `activites` AS `Activite` WHERE `Activite`.`id` = '16';
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `id`, `contenu`, `date_creation`, `updated_at`, `titre`, `description`, `type_activite_id`, `duree` FROM `activites` AS `Activite` WHERE `Activite`.`id` = '15';
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `id`, `seance_id`, `activite_id`, `ordre`, `created_at`, `updated_at` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '11' AND `SeanceActivite`.`activite_id` = '14' LIMIT 1;
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `id`, `seance_id`, `activite_id`, `ordre`, `created_at`, `updated_at` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '11' AND `SeanceActivite`.`activite_id` = '16' LIMIT 1;
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `id`, `seance_id`, `activite_id`, `ordre`, `created_at`, `updated_at` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '11' AND `SeanceActivite`.`activite_id` = '15' LIMIT 1;
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT max(`ordre`) AS `max` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '11';
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT max(`ordre`) AS `max` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '11';
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT max(`ordre`) AS `max` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '11';
[2025-05-19 13:51:01] DEBUG: Executing (default): INSERT INTO `seance_activite` (`id`,`seance_id`,`activite_id`,`ordre`,`created_at`,`updated_at`) VALUES (DEFAULT,?,?,?,?,?);
[2025-05-19 13:51:01] DEBUG: Executing (default): INSERT INTO `seance_activite` (`id`,`seance_id`,`activite_id`,`ordre`,`created_at`,`updated_at`) VALUES (DEFAULT,?,?,?,?,?);
[2025-05-19 13:51:01] DEBUG: Executing (default): INSERT INTO `seance_activite` (`id`,`seance_id`,`activite_id`,`ordre`,`created_at`,`updated_at`) VALUES (DEFAULT,?,?,?,?,?);
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` WHERE `Activite`.`id` = '14';
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` WHERE `Activite`.`id` = '15';
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` WHERE `Activite`.`id` = '16';
[2025-05-19 13:51:01] INFO: Activité 14 ajoutée à la séance 11
[2025-05-19 13:51:01] INFO: ::1 - - [19/May/2025:11:51:01 +0000] "POST /api/activites/seance/11/add/14 HTTP/1.1" 200 401 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:01] INFO: Activité 15 ajoutée à la séance 11
[2025-05-19 13:51:01] INFO: ::1 - - [19/May/2025:11:51:01 +0000] "POST /api/activites/seance/11/add/15 HTTP/1.1" 200 364 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:01] INFO: Activité 16 ajoutée à la séance 11
[2025-05-19 13:51:01] INFO: ::1 - - [19/May/2025:11:51:01 +0000] "POST /api/activites/seance/11/add/16 HTTP/1.1" 200 370 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:01] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:01] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:01] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:01] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:01] INFO: - ID: 5
[2025-05-19 13:51:01] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:01] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:01] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:01] INFO: - role_nom: admin_plus
[2025-05-19 13:51:01] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:01] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:01] INFO: - ID: 5
[2025-05-19 13:51:01] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:01] INFO: - Role.id: 2
[2025-05-19 13:51:01] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:01] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:01] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:01] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:01] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:01] INFO: ::1 - - [19/May/2025:11:51:01 +0000] "GET /api/activites/seance/11 HTTP/1.1" 200 1063 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:01] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:01] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:01] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:01] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:01] INFO: - ID: 5
[2025-05-19 13:51:01] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:01] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:01] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:01] INFO: - role_nom: admin_plus
[2025-05-19 13:51:01] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:01] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:01] INFO: - ID: 5
[2025-05-19 13:51:01] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:01] INFO: - Role.id: 2
[2025-05-19 13:51:01] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:01] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:01] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:01] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:01] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->seanceActivite`.`id` AS `seances.seanceActivite.id`, `seances->seanceActivite`.`ordre` AS `seances.seanceActivite.ordre` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` LEFT OUTER JOIN ( `seance_activite` AS `seances->seanceActivite` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->seanceActivite`.`seance_id`) ON `Activite`.`id` = `seances->seanceActivite`.`activite_id`;
[2025-05-19 13:51:01] INFO: ::1 - - [19/May/2025:11:51:01 +0000] "GET /api/activites HTTP/1.1" 200 2740 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:01] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:01] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:01] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:01] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:01] INFO: - ID: 5
[2025-05-19 13:51:01] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:01] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:01] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:01] INFO: - role_nom: admin_plus
[2025-05-19 13:51:01] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:01] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:01] INFO: - ID: 5
[2025-05-19 13:51:01] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:01] INFO: - Role.id: 2
[2025-05-19 13:51:01] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:01] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:01] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:01] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:01] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:01] DEBUG: Executing (default): SELECT `id`, `type_activite`, `couleur` FROM `type_activites` AS `TypeActivite`;
[2025-05-19 13:51:01] INFO: ::1 - - [19/May/2025:11:51:01 +0000] "GET /api/activites/types HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:04] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:04] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `modules->ModuleSeance`.`id` AS `modules.ModuleSeance.id`, `modules->ModuleSeance`.`module_id` AS `modules.ModuleSeance.module_id`, `modules->ModuleSeance`.`seance_id` AS `modules.ModuleSeance.seance_id`, `modules->ModuleSeance`.`positions` AS `modules.ModuleSeance.positions`, `modules->ModuleSeance`.`created_at` AS `modules.ModuleSeance.created_at`, `modules->ModuleSeance`.`updated_at` AS `modules.ModuleSeance.updated_at` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN ( `module_seance` AS `modules->ModuleSeance` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModuleSeance`.`module_id`) ON `Seance`.`id` = `modules->ModuleSeance`.`seance_id`;
[2025-05-19 13:51:04] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:04] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:04] INFO: - role_nom: admin_plus
[2025-05-19 13:51:04] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:04] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - Role.id: 2
[2025-05-19 13:51:04] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:04] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:04] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:04] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->seanceActivite`.`id` AS `seances.seanceActivite.id`, `seances->seanceActivite`.`ordre` AS `seances.seanceActivite.ordre` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` LEFT OUTER JOIN ( `seance_activite` AS `seances->seanceActivite` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->seanceActivite`.`seance_id`) ON `Activite`.`id` = `seances->seanceActivite`.`activite_id`;
[2025-05-19 13:51:04] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:04] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:04] INFO: - role_nom: admin_plus
[2025-05-19 13:51:04] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:04] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - Role.id: 2
[2025-05-19 13:51:04] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:04] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:04] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:04] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `id`, `type_activite`, `couleur` FROM `type_activites` AS `TypeActivite`;
[2025-05-19 13:51:04] INFO: ::1 - - [19/May/2025:11:51:04 +0000] "GET /api/seances HTTP/1.1" 200 2660 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:04] INFO: ::1 - - [19/May/2025:11:51:04 +0000] "GET /api/activites HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:04] INFO: ::1 - - [19/May/2025:11:51:04 +0000] "GET /api/activites/types HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `modules->ModuleSeance`.`id` AS `modules.ModuleSeance.id`, `modules->ModuleSeance`.`module_id` AS `modules.ModuleSeance.module_id`, `modules->ModuleSeance`.`seance_id` AS `modules.ModuleSeance.seance_id`, `modules->ModuleSeance`.`positions` AS `modules.ModuleSeance.positions`, `modules->ModuleSeance`.`created_at` AS `modules.ModuleSeance.created_at`, `modules->ModuleSeance`.`updated_at` AS `modules.ModuleSeance.updated_at` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN ( `module_seance` AS `modules->ModuleSeance` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModuleSeance`.`module_id`) ON `Seance`.`id` = `modules->ModuleSeance`.`seance_id`;
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:04] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:04] INFO: ::1 - - [19/May/2025:11:51:04 +0000] "GET /api/seances HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:04] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:04] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:04] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:04] INFO: - role_nom: admin_plus
[2025-05-19 13:51:04] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:04] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - Role.id: 2
[2025-05-19 13:51:04] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:04] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:04] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:04] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `id`, `type_activite`, `couleur` FROM `type_activites` AS `TypeActivite`;
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:04] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:04] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:04] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:04] INFO: - role_nom: admin_plus
[2025-05-19 13:51:04] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:04] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - Role.id: 2
[2025-05-19 13:51:04] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:04] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:04] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:04] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:51:04] INFO: - URL complète: http://localhost:3000/api/modules
[2025-05-19 13:51:04] INFO: - Méthode: GET
[2025-05-19 13:51:04] INFO: - Paramètres de requête: {}
[2025-05-19 13:51:04] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:51:04] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:51:04] INFO: - ID Utilisateur: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - Rôle ID: 2
[2025-05-19 13:51:04] INFO: - Rôle nom: admin_plus
[2025-05-19 13:51:04] INFO: - Rôle type: admin_plus
[2025-05-19 13:51:04] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:51:04] INFO: ::1 - - [19/May/2025:11:51:04 +0000] "GET /api/activites/types HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:04] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:04] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:04] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:04] INFO: - role_nom: admin_plus
[2025-05-19 13:51:04] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:04] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - Role.id: 2
[2025-05-19 13:51:04] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:04] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:04] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:04] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:04] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:51:04] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:51:04] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:51:04] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:51:04] INFO: - Options de tri: date_creation desc
[2025-05-19 13:51:04] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:51:04] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:04] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:04] INFO: - role_nom: admin_plus
[2025-05-19 13:51:04] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:04] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:04] INFO: - ID: 5
[2025-05-19 13:51:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:04] INFO: - Role.id: 2
[2025-05-19 13:51:04] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:04] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:04] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:04] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:04] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '10';
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:51:04] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '10';
[2025-05-19 13:51:04] INFO: ::1 - - [19/May/2025:11:51:04 +0000] "GET /api/activites/seance/11 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:04] INFO: ::1 - - [19/May/2025:11:51:04 +0000] "GET /api/activites/seance/10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:04] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:51:04] INFO: - Détail des modules trouvés:
[2025-05-19 13:51:04] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:51:04] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:51:04] INFO: ::1 - - [19/May/2025:11:51:04 +0000] "GET /api/modules HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:11] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:11] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:11] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:11] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:11] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:11] INFO: - ID: 5
[2025-05-19 13:51:11] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:11] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:11] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:11] INFO: - role_nom: admin_plus
[2025-05-19 13:51:11] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:11] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:11] INFO: - ID: 5
[2025-05-19 13:51:11] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:11] INFO: - Role.id: 2
[2025-05-19 13:51:11] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:11] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:11] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:11] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:11] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:11] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:11] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:11] INFO: ::1 - - [19/May/2025:11:51:11 +0000] "GET /api/activites/seance/11 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:11] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:11] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:11] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:11] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:11] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:11] INFO: - ID: 5
[2025-05-19 13:51:11] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:11] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:11] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:11] INFO: - role_nom: admin_plus
[2025-05-19 13:51:11] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:11] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:11] INFO: - ID: 5
[2025-05-19 13:51:11] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:11] INFO: - Role.id: 2
[2025-05-19 13:51:11] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:11] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:11] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:11] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:11] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:11] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->seanceActivite`.`id` AS `seances.seanceActivite.id`, `seances->seanceActivite`.`ordre` AS `seances.seanceActivite.ordre` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` LEFT OUTER JOIN ( `seance_activite` AS `seances->seanceActivite` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->seanceActivite`.`seance_id`) ON `Activite`.`id` = `seances->seanceActivite`.`activite_id`;
[2025-05-19 13:51:11] INFO: ::1 - - [19/May/2025:11:51:11 +0000] "GET /api/activites HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:11] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:11] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:11] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:11] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:11] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:11] INFO: - ID: 5
[2025-05-19 13:51:11] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:11] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:11] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:11] INFO: - role_nom: admin_plus
[2025-05-19 13:51:11] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:11] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:11] INFO: - ID: 5
[2025-05-19 13:51:11] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:11] INFO: - Role.id: 2
[2025-05-19 13:51:11] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:11] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:11] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:11] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:11] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:11] DEBUG: Executing (default): SELECT `id`, `type_activite`, `couleur` FROM `type_activites` AS `TypeActivite`;
[2025-05-19 13:51:11] INFO: ::1 - - [19/May/2025:11:51:11 +0000] "GET /api/activites/types HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:15] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:15] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:15] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:15] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:15] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:15] INFO: - ID: 5
[2025-05-19 13:51:15] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:15] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:15] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:15] INFO: - role_nom: admin_plus
[2025-05-19 13:51:15] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:15] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:15] INFO: - ID: 5
[2025-05-19 13:51:15] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:15] INFO: - Role.id: 2
[2025-05-19 13:51:15] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:15] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:15] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:15] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:15] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:15] INFO: [isAdmin] Vérification du rôle admin pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:51:15] INFO: [isAdmin] Rôle utilisateur détecté: nom=admin_plus
[2025-05-19 13:51:15] INFO: [isAdmin] Accès admin autorisé pour l'utilisateur 5
[2025-05-19 13:51:15] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:15] DEBUG: Executing (default): SELECT `id`, `seance_id`, `activite_id`, `ordre`, `created_at`, `updated_at` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '11';
[2025-05-19 13:51:15] DEBUG: Executing (default): UPDATE `seance_activite` SET `ordre`=?,`updated_at`=? WHERE `seance_id` = ? AND `activite_id` = ?
[2025-05-19 13:51:15] DEBUG: Executing (default): UPDATE `seance_activite` SET `ordre`=?,`updated_at`=? WHERE `seance_id` = ? AND `activite_id` = ?
[2025-05-19 13:51:15] DEBUG: Executing (default): UPDATE `seance_activite` SET `ordre`=?,`updated_at`=? WHERE `seance_id` = ? AND `activite_id` = ?
[2025-05-19 13:51:15] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:15] INFO: Ordre des activités mis à jour pour la séance: 11
[2025-05-19 13:51:15] INFO: ::1 - - [19/May/2025:11:51:15 +0000] "POST /api/activites/seance/11/reorder HTTP/1.1" 200 1085 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:17] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:17] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:17] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:17] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:17] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:17] INFO: - ID: 5
[2025-05-19 13:51:17] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:17] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:17] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:17] INFO: - role_nom: admin_plus
[2025-05-19 13:51:17] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:17] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:17] INFO: - ID: 5
[2025-05-19 13:51:17] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:17] INFO: - Role.id: 2
[2025-05-19 13:51:17] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:17] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:17] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:17] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:17] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:17] INFO: [isAdmin] Vérification du rôle admin pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:51:17] INFO: [isAdmin] Rôle utilisateur détecté: nom=admin_plus
[2025-05-19 13:51:17] INFO: [isAdmin] Accès admin autorisé pour l'utilisateur 5
[2025-05-19 13:51:17] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:17] DEBUG: Executing (default): SELECT `id`, `seance_id`, `activite_id`, `ordre`, `created_at`, `updated_at` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '11';
[2025-05-19 13:51:17] DEBUG: Executing (default): UPDATE `seance_activite` SET `ordre`=?,`updated_at`=? WHERE `seance_id` = ? AND `activite_id` = ?
[2025-05-19 13:51:17] DEBUG: Executing (default): UPDATE `seance_activite` SET `ordre`=?,`updated_at`=? WHERE `seance_id` = ? AND `activite_id` = ?
[2025-05-19 13:51:17] DEBUG: Executing (default): UPDATE `seance_activite` SET `ordre`=?,`updated_at`=? WHERE `seance_id` = ? AND `activite_id` = ?
[2025-05-19 13:51:18] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:18] INFO: Ordre des activités mis à jour pour la séance: 11
[2025-05-19 13:51:18] INFO: ::1 - - [19/May/2025:11:51:18 +0000] "POST /api/activites/seance/11/reorder HTTP/1.1" 200 1085 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:24] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:24] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:24] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:24] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:24] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:24] INFO: - ID: 5
[2025-05-19 13:51:24] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:24] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:24] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:24] INFO: - role_nom: admin_plus
[2025-05-19 13:51:24] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:24] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:24] INFO: - ID: 5
[2025-05-19 13:51:24] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:24] INFO: - Role.id: 2
[2025-05-19 13:51:24] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:24] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:24] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:24] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:24] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:24] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:51:24] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:51:24] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:51:24] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '11';
[2025-05-19 13:51:24] DEBUG: Executing (default): DELETE FROM `seances` WHERE `id` = 11
[2025-05-19 13:51:25] INFO: Séance supprimée: 11
[2025-05-19 13:51:25] INFO: ::1 - - [19/May/2025:11:51:25 +0000] "DELETE /api/seances/11 HTTP/1.1" 200 45 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:27] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:27] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:27] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:27] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:27] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:27] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:27] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:27] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:27] INFO: - ID: 5
[2025-05-19 13:51:27] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:27] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:27] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:27] INFO: - role_nom: admin_plus
[2025-05-19 13:51:27] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:27] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:27] INFO: - ID: 5
[2025-05-19 13:51:27] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:27] INFO: - Role.id: 2
[2025-05-19 13:51:27] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:27] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:27] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:27] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:27] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:27] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:27] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:27] INFO: - ID: 5
[2025-05-19 13:51:27] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:27] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:27] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:27] INFO: - role_nom: admin_plus
[2025-05-19 13:51:27] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:27] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:27] INFO: - ID: 5
[2025-05-19 13:51:27] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:27] INFO: - Role.id: 2
[2025-05-19 13:51:27] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:27] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:27] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:27] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:27] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:27] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `modules->ModuleSeance`.`id` AS `modules.ModuleSeance.id`, `modules->ModuleSeance`.`module_id` AS `modules.ModuleSeance.module_id`, `modules->ModuleSeance`.`seance_id` AS `modules.ModuleSeance.seance_id`, `modules->ModuleSeance`.`positions` AS `modules.ModuleSeance.positions`, `modules->ModuleSeance`.`created_at` AS `modules.ModuleSeance.created_at`, `modules->ModuleSeance`.`updated_at` AS `modules.ModuleSeance.updated_at` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN ( `module_seance` AS `modules->ModuleSeance` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModuleSeance`.`module_id`) ON `Seance`.`id` = `modules->ModuleSeance`.`seance_id`;
[2025-05-19 13:51:27] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->seanceActivite`.`id` AS `seances.seanceActivite.id`, `seances->seanceActivite`.`ordre` AS `seances.seanceActivite.ordre` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` LEFT OUTER JOIN ( `seance_activite` AS `seances->seanceActivite` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->seanceActivite`.`seance_id`) ON `Activite`.`id` = `seances->seanceActivite`.`activite_id`;
[2025-05-19 13:51:27] INFO: ::1 - - [19/May/2025:11:51:27 +0000] "GET /api/seances HTTP/1.1" 200 1562 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:27] DEBUG: Executing (default): SELECT `id`, `type_activite`, `couleur` FROM `type_activites` AS `TypeActivite`;
[2025-05-19 13:51:27] INFO: ::1 - - [19/May/2025:11:51:27 +0000] "GET /api/activites HTTP/1.1" 200 1861 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:28] INFO: ::1 - - [19/May/2025:11:51:28 +0000] "GET /api/activites/types HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:44] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:51:44] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:44] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:51:44] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:51:44] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `modules->ModuleSeance`.`id` AS `modules.ModuleSeance.id`, `modules->ModuleSeance`.`module_id` AS `modules.ModuleSeance.module_id`, `modules->ModuleSeance`.`seance_id` AS `modules.ModuleSeance.seance_id`, `modules->ModuleSeance`.`positions` AS `modules.ModuleSeance.positions`, `modules->ModuleSeance`.`created_at` AS `modules.ModuleSeance.created_at`, `modules->ModuleSeance`.`updated_at` AS `modules.ModuleSeance.updated_at` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN ( `module_seance` AS `modules->ModuleSeance` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModuleSeance`.`module_id`) ON `Seance`.`id` = `modules->ModuleSeance`.`seance_id`;
[2025-05-19 13:51:44] INFO: Données utilisateur récupérées:
[2025-05-19 13:51:44] INFO: - ID: 5
[2025-05-19 13:51:44] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:44] INFO: - role_id depuis la table users: 2
[2025-05-19 13:51:44] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:51:44] INFO: - role_nom: admin_plus
[2025-05-19 13:51:44] INFO: - role_description: Super administrateur du système
[2025-05-19 13:51:44] INFO: Objet utilisateur final construit:
[2025-05-19 13:51:44] INFO: - ID: 5
[2025-05-19 13:51:44] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:51:44] INFO: - Role.id: 2
[2025-05-19 13:51:44] INFO: - Role.nom: admin_plus
[2025-05-19 13:51:44] INFO: - Role.role_type: admin_plus
[2025-05-19 13:51:44] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:51:44] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:51:44] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:51:44] DEBUG: Executing (default): SELECT `id`, `type_activite`, `couleur` FROM `type_activites` AS `TypeActivite`;
[2025-05-19 13:51:44] INFO: ::1 - - [19/May/2025:11:51:44 +0000] "GET /api/seances HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:51:44] INFO: ::1 - - [19/May/2025:11:51:44 +0000] "GET /api/activites/types HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:29] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:29] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:29] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:29] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:29] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:29] INFO: - ID: 5
[2025-05-19 13:52:29] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:29] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:29] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:29] INFO: - role_nom: admin_plus
[2025-05-19 13:52:29] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:29] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:29] INFO: - ID: 5
[2025-05-19 13:52:29] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:29] INFO: - Role.id: 2
[2025-05-19 13:52:29] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:29] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:29] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:29] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:29] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:29] INFO: [isAdmin] Vérification du rôle admin pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:52:29] INFO: [isAdmin] Rôle utilisateur détecté: nom=admin_plus
[2025-05-19 13:52:29] INFO: [isAdmin] Accès admin autorisé pour l'utilisateur 5
[2025-05-19 13:52:29] DEBUG: Executing (default): SELECT `id`, `type_activite`, `couleur` FROM `type_activites` AS `TypeActivite` WHERE `TypeActivite`.`id` = 2;
[2025-05-19 13:52:29] DEBUG: Executing (default): INSERT INTO `activites` (`id`,`contenu`,`date_creation`,`updated_at`,`titre`,`description`,`type_activite_id`,`duree`) VALUES (DEFAULT,?,?,?,?,?,?,?);
[2025-05-19 13:52:29] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->seanceActivite`.`id` AS `seances.seanceActivite.id`, `seances->seanceActivite`.`ordre` AS `seances.seanceActivite.ordre` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` LEFT OUTER JOIN ( `seance_activite` AS `seances->seanceActivite` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->seanceActivite`.`seance_id`) ON `Activite`.`id` = `seances->seanceActivite`.`activite_id` WHERE `Activite`.`id` = 17;
[2025-05-19 13:52:29] INFO: Nouvelle activité créée: 17 (Tarte aux pommes)
[2025-05-19 13:52:29] INFO: ::1 - - [19/May/2025:11:52:29 +0000] "POST /api/activites HTTP/1.1" 201 411 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:29] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:29] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:29] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:29] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:29] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:29] INFO: - ID: 5
[2025-05-19 13:52:29] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:29] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:29] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:29] INFO: - role_nom: admin_plus
[2025-05-19 13:52:29] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:29] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:29] INFO: - ID: 5
[2025-05-19 13:52:29] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:29] INFO: - Role.id: 2
[2025-05-19 13:52:29] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:29] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:29] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:29] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:29] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:29] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->seanceActivite`.`id` AS `seances.seanceActivite.id`, `seances->seanceActivite`.`ordre` AS `seances.seanceActivite.ordre` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` LEFT OUTER JOIN ( `seance_activite` AS `seances->seanceActivite` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->seanceActivite`.`seance_id`) ON `Activite`.`id` = `seances->seanceActivite`.`activite_id`;
[2025-05-19 13:52:29] INFO: ::1 - - [19/May/2025:11:52:29 +0000] "GET /api/activites HTTP/1.1" 200 2217 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:46] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:46] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:46] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:46] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:46] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:46] INFO: - ID: 5
[2025-05-19 13:52:46] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:46] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:46] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:46] INFO: - role_nom: admin_plus
[2025-05-19 13:52:46] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:46] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:46] INFO: - ID: 5
[2025-05-19 13:52:46] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:46] INFO: - Role.id: 2
[2025-05-19 13:52:46] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:46] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:46] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:46] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:46] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:46] INFO: [isAdmin] Vérification du rôle admin pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:52:46] INFO: [isAdmin] Rôle utilisateur détecté: nom=admin_plus
[2025-05-19 13:52:46] INFO: [isAdmin] Accès admin autorisé pour l'utilisateur 5
[2025-05-19 13:52:46] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '10';
[2025-05-19 13:52:46] DEBUG: Executing (default): SELECT `id`, `contenu`, `date_creation`, `updated_at`, `titre`, `description`, `type_activite_id`, `duree` FROM `activites` AS `Activite` WHERE `Activite`.`id` = '17';
[2025-05-19 13:52:46] DEBUG: Executing (default): SELECT `id`, `seance_id`, `activite_id`, `ordre`, `created_at`, `updated_at` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '10' AND `SeanceActivite`.`activite_id` = '17' LIMIT 1;
[2025-05-19 13:52:46] DEBUG: Executing (default): SELECT max(`ordre`) AS `max` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '10';
[2025-05-19 13:52:46] DEBUG: Executing (default): INSERT INTO `seance_activite` (`id`,`seance_id`,`activite_id`,`ordre`,`created_at`,`updated_at`) VALUES (DEFAULT,?,?,?,?,?);
[2025-05-19 13:52:46] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` WHERE `Activite`.`id` = '17';
[2025-05-19 13:52:46] INFO: Activité 17 ajoutée à la séance 10
[2025-05-19 13:52:46] INFO: ::1 - - [19/May/2025:11:52:46 +0000] "POST /api/activites/seance/10/add/17 HTTP/1.1" 200 413 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:46] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:46] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:46] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:46] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:46] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:46] INFO: - ID: 5
[2025-05-19 13:52:46] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:46] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:46] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:46] INFO: - role_nom: admin_plus
[2025-05-19 13:52:46] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:46] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:46] INFO: - ID: 5
[2025-05-19 13:52:46] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:46] INFO: - Role.id: 2
[2025-05-19 13:52:46] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:46] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:46] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:46] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:46] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:46] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->seanceActivite`.`id` AS `seances.seanceActivite.id`, `seances->seanceActivite`.`ordre` AS `seances.seanceActivite.ordre` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` LEFT OUTER JOIN ( `seance_activite` AS `seances->seanceActivite` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->seanceActivite`.`seance_id`) ON `Activite`.`id` = `seances->seanceActivite`.`activite_id`;
[2025-05-19 13:52:46] INFO: ::1 - - [19/May/2025:11:52:46 +0000] "GET /api/activites HTTP/1.1" 200 2511 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:48] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:48] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:48] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:48] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:48] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:48] INFO: - ID: 5
[2025-05-19 13:52:48] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:48] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:48] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:48] INFO: - role_nom: admin_plus
[2025-05-19 13:52:48] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:48] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:48] INFO: - ID: 5
[2025-05-19 13:52:48] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:48] INFO: - Role.id: 2
[2025-05-19 13:52:48] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:48] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:48] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:48] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:48] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:48] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:52:48] INFO: - URL complète: http://localhost:3000/api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true
[2025-05-19 13:52:48] INFO: - Méthode: GET
[2025-05-19 13:52:48] INFO: - Paramètres de requête: {"sortBy":"date_creation","sortOrder":"desc","debug":"true","noFilter":"true"}
[2025-05-19 13:52:48] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:52:48] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:52:48] INFO: - ID Utilisateur: 5
[2025-05-19 13:52:48] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:48] INFO: - Rôle ID: 2
[2025-05-19 13:52:48] INFO: - Rôle nom: admin_plus
[2025-05-19 13:52:48] INFO: - Rôle type: admin_plus
[2025-05-19 13:52:48] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:52:48] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:52:48] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:52:48] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:52:48] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:52:48] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:52:48] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:52:48] INFO: - Options de tri: date_creation desc
[2025-05-19 13:52:48] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:52:48] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:52:48] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:52:48] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:52:48] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:52:48] INFO: - Détail des modules trouvés:
[2025-05-19 13:52:48] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:52:48] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:52:48] INFO: ::1 - - [19/May/2025:11:52:48 +0000] "GET /api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `modules->ModuleSeance`.`id` AS `modules.ModuleSeance.id`, `modules->ModuleSeance`.`module_id` AS `modules.ModuleSeance.module_id`, `modules->ModuleSeance`.`seance_id` AS `modules.ModuleSeance.seance_id`, `modules->ModuleSeance`.`positions` AS `modules.ModuleSeance.positions`, `modules->ModuleSeance`.`created_at` AS `modules.ModuleSeance.created_at`, `modules->ModuleSeance`.`updated_at` AS `modules.ModuleSeance.updated_at` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN ( `module_seance` AS `modules->ModuleSeance` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModuleSeance`.`module_id`) ON `Seance`.`id` = `modules->ModuleSeance`.`seance_id`;
[2025-05-19 13:52:49] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:49] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:49] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:49] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:49] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:49] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:49] INFO: ::1 - - [19/May/2025:11:52:49 +0000] "GET /api/seances HTTP/1.1" 200 1867 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:49] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:49] INFO: - ID: 5
[2025-05-19 13:52:49] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:49] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:49] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:49] INFO: - role_nom: admin_plus
[2025-05-19 13:52:49] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:49] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:49] INFO: - ID: 5
[2025-05-19 13:52:49] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:49] INFO: - Role.id: 2
[2025-05-19 13:52:49] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:49] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:49] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:49] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:49] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:49] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:52:49] INFO: - URL complète: http://localhost:3000/api/modules
[2025-05-19 13:52:49] INFO: - Méthode: GET
[2025-05-19 13:52:49] INFO: - Paramètres de requête: {}
[2025-05-19 13:52:49] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:52:49] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:52:49] INFO: - ID Utilisateur: 5
[2025-05-19 13:52:49] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:49] INFO: - Rôle ID: 2
[2025-05-19 13:52:49] INFO: - Rôle nom: admin_plus
[2025-05-19 13:52:49] INFO: - Rôle type: admin_plus
[2025-05-19 13:52:49] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:52:49] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:52:49] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:49] INFO: - ID: 5
[2025-05-19 13:52:49] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:49] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:49] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:49] INFO: - role_nom: admin_plus
[2025-05-19 13:52:49] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:49] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:49] INFO: - ID: 5
[2025-05-19 13:52:49] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:49] INFO: - Role.id: 2
[2025-05-19 13:52:49] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:49] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:49] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:49] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:49] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT `id`, `type_activite`, `couleur` FROM `type_activites` AS `TypeActivite`;
[2025-05-19 13:52:49] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:52:49] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:52:49] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:52:49] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:52:49] INFO: - Options de tri: date_creation desc
[2025-05-19 13:52:49] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:52:49] INFO: ::1 - - [19/May/2025:11:52:49 +0000] "GET /api/activites/types HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:49] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:49] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:49] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:52:49] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:49] INFO: - ID: 5
[2025-05-19 13:52:49] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:49] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:49] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:49] INFO: - role_nom: admin_plus
[2025-05-19 13:52:49] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:49] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:49] INFO: - ID: 5
[2025-05-19 13:52:49] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:49] INFO: - Role.id: 2
[2025-05-19 13:52:49] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:49] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:49] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:49] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:49] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '10';
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '10';
[2025-05-19 13:52:49] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:52:49] INFO: - Détail des modules trouvés:
[2025-05-19 13:52:49] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:52:49] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:52:49] INFO: ::1 - - [19/May/2025:11:52:49 +0000] "GET /api/modules HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:49] INFO: ::1 - - [19/May/2025:11:52:49 +0000] "GET /api/activites/seance/10 HTTP/1.1" 200 1441 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:49] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:49] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:49] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:49] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:49] INFO: - ID: 5
[2025-05-19 13:52:49] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:49] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:49] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:49] INFO: - role_nom: admin_plus
[2025-05-19 13:52:49] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:49] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:49] INFO: - ID: 5
[2025-05-19 13:52:49] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:49] INFO: - Role.id: 2
[2025-05-19 13:52:49] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:49] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:49] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:49] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:49] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:49] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:52:49] INFO: - URL complète: http://localhost:3000/api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true
[2025-05-19 13:52:49] INFO: - Méthode: GET
[2025-05-19 13:52:49] INFO: - Paramètres de requête: {"sortBy":"date_creation","sortOrder":"desc","debug":"true","noFilter":"true"}
[2025-05-19 13:52:49] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:52:49] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:52:49] INFO: - ID Utilisateur: 5
[2025-05-19 13:52:49] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:49] INFO: - Rôle ID: 2
[2025-05-19 13:52:49] INFO: - Rôle nom: admin_plus
[2025-05-19 13:52:49] INFO: - Rôle type: admin_plus
[2025-05-19 13:52:49] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:52:49] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:52:49] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:52:49] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:52:49] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:52:49] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:52:49] INFO: - Options de tri: date_creation desc
[2025-05-19 13:52:49] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:52:49] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:52:49] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:52:49] INFO: - Détail des modules trouvés:
[2025-05-19 13:52:49] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:52:49] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:52:49] INFO: ::1 - - [19/May/2025:11:52:49 +0000] "GET /api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:53] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:53] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:53] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:53] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:53] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:53] INFO: - ID: 5
[2025-05-19 13:52:53] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:53] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:53] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:53] INFO: - role_nom: admin_plus
[2025-05-19 13:52:53] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:53] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:53] INFO: - ID: 5
[2025-05-19 13:52:53] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:53] INFO: - Role.id: 2
[2025-05-19 13:52:53] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:53] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:53] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:53] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:53] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:53] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '10';
[2025-05-19 13:52:53] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '10';
[2025-05-19 13:52:53] INFO: ::1 - - [19/May/2025:11:52:53 +0000] "GET /api/activites/seance/10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:53] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:53] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:53] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:53] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:53] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:53] INFO: - ID: 5
[2025-05-19 13:52:53] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:53] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:53] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:53] INFO: - role_nom: admin_plus
[2025-05-19 13:52:53] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:53] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:53] INFO: - ID: 5
[2025-05-19 13:52:53] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:53] INFO: - Role.id: 2
[2025-05-19 13:52:53] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:53] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:53] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:53] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:53] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:53] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->seanceActivite`.`id` AS `seances.seanceActivite.id`, `seances->seanceActivite`.`ordre` AS `seances.seanceActivite.ordre` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` LEFT OUTER JOIN ( `seance_activite` AS `seances->seanceActivite` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->seanceActivite`.`seance_id`) ON `Activite`.`id` = `seances->seanceActivite`.`activite_id`;
[2025-05-19 13:52:53] INFO: ::1 - - [19/May/2025:11:52:53 +0000] "GET /api/activites HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:53] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:53] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:53] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:53] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:53] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:53] INFO: - ID: 5
[2025-05-19 13:52:53] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:53] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:53] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:53] INFO: - role_nom: admin_plus
[2025-05-19 13:52:53] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:53] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:53] INFO: - ID: 5
[2025-05-19 13:52:53] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:53] INFO: - Role.id: 2
[2025-05-19 13:52:53] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:53] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:53] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:53] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:53] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:53] DEBUG: Executing (default): SELECT `id`, `type_activite`, `couleur` FROM `type_activites` AS `TypeActivite`;
[2025-05-19 13:52:53] INFO: ::1 - - [19/May/2025:11:52:53 +0000] "GET /api/activites/types HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:57] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:57] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:57] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:57] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:57] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:57] INFO: - ID: 5
[2025-05-19 13:52:57] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:57] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:57] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:57] INFO: - role_nom: admin_plus
[2025-05-19 13:52:57] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:57] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:57] INFO: - ID: 5
[2025-05-19 13:52:57] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:57] INFO: - Role.id: 2
[2025-05-19 13:52:57] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:57] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:57] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:57] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:57] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:57] INFO: [isAdmin] Vérification du rôle admin pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:52:57] INFO: [isAdmin] Rôle utilisateur détecté: nom=admin_plus
[2025-05-19 13:52:57] INFO: [isAdmin] Accès admin autorisé pour l'utilisateur 5
[2025-05-19 13:52:57] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '10';
[2025-05-19 13:52:57] DEBUG: Executing (default): SELECT `id`, `seance_id`, `activite_id`, `ordre`, `created_at`, `updated_at` FROM `seance_activite` AS `SeanceActivite` WHERE `SeanceActivite`.`seance_id` = '10' AND `SeanceActivite`.`activite_id` = '17' LIMIT 1;
[2025-05-19 13:52:57] DEBUG: Executing (default): DELETE FROM `seance_activite` WHERE `id` = 13
[2025-05-19 13:52:57] INFO: Activité 17 retirée de la séance 10
[2025-05-19 13:52:57] INFO: ::1 - - [19/May/2025:11:52:57 +0000] "DELETE /api/activites/seance/10/remove/17 HTTP/1.1" 200 59 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:57] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:57] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:57] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:57] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:57] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:57] INFO: - ID: 5
[2025-05-19 13:52:57] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:57] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:57] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:57] INFO: - role_nom: admin_plus
[2025-05-19 13:52:57] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:57] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:57] INFO: - ID: 5
[2025-05-19 13:52:57] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:57] INFO: - Role.id: 2
[2025-05-19 13:52:57] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:57] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:57] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:57] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:57] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:57] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '10';
[2025-05-19 13:52:57] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '10';
[2025-05-19 13:52:57] INFO: ::1 - - [19/May/2025:11:52:57 +0000] "GET /api/activites/seance/10 HTTP/1.1" 200 1069 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:57] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:57] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:57] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:57] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:57] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:57] INFO: - ID: 5
[2025-05-19 13:52:57] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:57] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:57] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:57] INFO: - role_nom: admin_plus
[2025-05-19 13:52:57] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:57] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:57] INFO: - ID: 5
[2025-05-19 13:52:57] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:57] INFO: - Role.id: 2
[2025-05-19 13:52:57] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:57] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:57] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:57] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:57] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:57] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->seanceActivite`.`id` AS `seances.seanceActivite.id`, `seances->seanceActivite`.`ordre` AS `seances.seanceActivite.ordre` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` LEFT OUTER JOIN ( `seance_activite` AS `seances->seanceActivite` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->seanceActivite`.`seance_id`) ON `Activite`.`id` = `seances->seanceActivite`.`activite_id`;
[2025-05-19 13:52:57] INFO: ::1 - - [19/May/2025:11:52:57 +0000] "GET /api/activites HTTP/1.1" 200 2217 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:52:57] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:52:57] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:57] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:52:57] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:52:57] INFO: Données utilisateur récupérées:
[2025-05-19 13:52:57] INFO: - ID: 5
[2025-05-19 13:52:57] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:57] INFO: - role_id depuis la table users: 2
[2025-05-19 13:52:57] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:52:57] INFO: - role_nom: admin_plus
[2025-05-19 13:52:57] INFO: - role_description: Super administrateur du système
[2025-05-19 13:52:57] INFO: Objet utilisateur final construit:
[2025-05-19 13:52:57] INFO: - ID: 5
[2025-05-19 13:52:57] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:52:57] INFO: - Role.id: 2
[2025-05-19 13:52:57] INFO: - Role.nom: admin_plus
[2025-05-19 13:52:57] INFO: - Role.role_type: admin_plus
[2025-05-19 13:52:57] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:52:57] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:52:57] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:52:57] DEBUG: Executing (default): SELECT `id`, `type_activite`, `couleur` FROM `type_activites` AS `TypeActivite`;
[2025-05-19 13:52:57] INFO: ::1 - - [19/May/2025:11:52:57 +0000] "GET /api/activites/types HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:53:00] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:53:00] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:00] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:53:00] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:53:00] INFO: Données utilisateur récupérées:
[2025-05-19 13:53:00] INFO: - ID: 5
[2025-05-19 13:53:00] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:00] INFO: - role_id depuis la table users: 2
[2025-05-19 13:53:00] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:53:00] INFO: - role_nom: admin_plus
[2025-05-19 13:53:00] INFO: - role_description: Super administrateur du système
[2025-05-19 13:53:00] INFO: Objet utilisateur final construit:
[2025-05-19 13:53:00] INFO: - ID: 5
[2025-05-19 13:53:00] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:00] INFO: - Role.id: 2
[2025-05-19 13:53:00] INFO: - Role.nom: admin_plus
[2025-05-19 13:53:00] INFO: - Role.role_type: admin_plus
[2025-05-19 13:53:00] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:53:00] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:53:00] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:00] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:53:00] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:53:00] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:53:00] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10"}
[2025-05-19 13:53:00] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id`;
[2025-05-19 13:53:00] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:53:00] INFO: ::1 - - [19/May/2025:11:53:00 +0000] "GET /api/users?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:53:34] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:53:34] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:34] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:53:34] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:53:34] INFO: Données utilisateur récupérées:
[2025-05-19 13:53:34] INFO: - ID: 5
[2025-05-19 13:53:34] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:34] INFO: - role_id depuis la table users: 2
[2025-05-19 13:53:34] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:53:34] INFO: - role_nom: admin_plus
[2025-05-19 13:53:34] INFO: - role_description: Super administrateur du système
[2025-05-19 13:53:34] INFO: Objet utilisateur final construit:
[2025-05-19 13:53:34] INFO: - ID: 5
[2025-05-19 13:53:34] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:34] INFO: - Role.id: 2
[2025-05-19 13:53:34] INFO: - Role.nom: admin_plus
[2025-05-19 13:53:34] INFO: - Role.role_type: admin_plus
[2025-05-19 13:53:34] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:53:34] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:53:34] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:34] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:53:34] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:53:34] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:53:34] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10","search":"etahn"}
[2025-05-19 13:53:34] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE (`User`.`nom` LIKE '%etahn%' OR `User`.`prenom` LIKE '%etahn%' OR `User`.`mail` LIKE '%etahn%');
[2025-05-19 13:53:34] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE (`User`.`nom` LIKE '%etahn%' OR `User`.`prenom` LIKE '%etahn%' OR `User`.`mail` LIKE '%etahn%') ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:53:34] INFO: ::1 - - [19/May/2025:11:53:34 +0000] "GET /api/users?page=1&limit=10&search=etahn HTTP/1.1" 200 224 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:53:38] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:53:38] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:38] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:53:38] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:53:38] INFO: Données utilisateur récupérées:
[2025-05-19 13:53:38] INFO: - ID: 5
[2025-05-19 13:53:38] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:38] INFO: - role_id depuis la table users: 2
[2025-05-19 13:53:38] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:53:38] INFO: - role_nom: admin_plus
[2025-05-19 13:53:38] INFO: - role_description: Super administrateur du système
[2025-05-19 13:53:38] INFO: Objet utilisateur final construit:
[2025-05-19 13:53:38] INFO: - ID: 5
[2025-05-19 13:53:38] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:38] INFO: - Role.id: 2
[2025-05-19 13:53:38] INFO: - Role.nom: admin_plus
[2025-05-19 13:53:38] INFO: - Role.role_type: admin_plus
[2025-05-19 13:53:38] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:53:38] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:53:38] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:38] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:53:38] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:53:38] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:53:38] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10"}
[2025-05-19 13:53:38] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id`;
[2025-05-19 13:53:38] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:53:38] INFO: ::1 - - [19/May/2025:11:53:38 +0000] "GET /api/users?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:53:39] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:53:39] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:39] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:53:39] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:53:39] INFO: Données utilisateur récupérées:
[2025-05-19 13:53:39] INFO: - ID: 5
[2025-05-19 13:53:39] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:39] INFO: - role_id depuis la table users: 2
[2025-05-19 13:53:39] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:53:39] INFO: - role_nom: admin_plus
[2025-05-19 13:53:39] INFO: - role_description: Super administrateur du système
[2025-05-19 13:53:39] INFO: Objet utilisateur final construit:
[2025-05-19 13:53:39] INFO: - ID: 5
[2025-05-19 13:53:39] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:39] INFO: - Role.id: 2
[2025-05-19 13:53:39] INFO: - Role.nom: admin_plus
[2025-05-19 13:53:39] INFO: - Role.role_type: admin_plus
[2025-05-19 13:53:39] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:53:39] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:53:39] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:39] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:53:39] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:53:39] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:53:39] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10","role":"client","status":"active"}
[2025-05-19 13:53:39] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` AND `role`.`nom` = 'client' WHERE `User`.`active` = true;
[2025-05-19 13:53:39] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` AND `role`.`nom` = 'client' WHERE `User`.`active` = true ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:53:39] INFO: ::1 - - [19/May/2025:11:53:39 +0000] "GET /api/users?page=1&limit=10&role=client&status=active HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:53:40] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:53:40] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:40] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:53:40] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:53:40] INFO: Données utilisateur récupérées:
[2025-05-19 13:53:40] INFO: - ID: 5
[2025-05-19 13:53:40] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:40] INFO: - role_id depuis la table users: 2
[2025-05-19 13:53:40] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:53:40] INFO: - role_nom: admin_plus
[2025-05-19 13:53:40] INFO: - role_description: Super administrateur du système
[2025-05-19 13:53:40] INFO: Objet utilisateur final construit:
[2025-05-19 13:53:40] INFO: - ID: 5
[2025-05-19 13:53:40] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:40] INFO: - Role.id: 2
[2025-05-19 13:53:40] INFO: - Role.nom: admin_plus
[2025-05-19 13:53:40] INFO: - Role.role_type: admin_plus
[2025-05-19 13:53:40] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:53:40] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:53:40] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:40] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:53:40] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:53:40] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:53:40] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10","role":"admin","status":"active"}
[2025-05-19 13:53:40] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` AND `role`.`nom` = 'admin' WHERE `User`.`active` = true;
[2025-05-19 13:53:40] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` AND `role`.`nom` = 'admin' WHERE `User`.`active` = true ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:53:40] INFO: ::1 - - [19/May/2025:11:53:40 +0000] "GET /api/users?page=1&limit=10&role=admin&status=active HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:53:41] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:53:41] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:41] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:53:41] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:53:41] INFO: Données utilisateur récupérées:
[2025-05-19 13:53:41] INFO: - ID: 5
[2025-05-19 13:53:41] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:41] INFO: - role_id depuis la table users: 2
[2025-05-19 13:53:41] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:53:41] INFO: - role_nom: admin_plus
[2025-05-19 13:53:41] INFO: - role_description: Super administrateur du système
[2025-05-19 13:53:41] INFO: Objet utilisateur final construit:
[2025-05-19 13:53:41] INFO: - ID: 5
[2025-05-19 13:53:41] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:41] INFO: - Role.id: 2
[2025-05-19 13:53:41] INFO: - Role.nom: admin_plus
[2025-05-19 13:53:41] INFO: - Role.role_type: admin_plus
[2025-05-19 13:53:41] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:53:41] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:53:41] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:41] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:53:41] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:53:41] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:53:41] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10","role":"admin_plus","status":"active"}
[2025-05-19 13:53:41] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` AND `role`.`nom` = 'admin_plus' WHERE `User`.`active` = true;
[2025-05-19 13:53:41] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` AND `role`.`nom` = 'admin_plus' WHERE `User`.`active` = true ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:53:41] INFO: ::1 - - [19/May/2025:11:53:41 +0000] "GET /api/users?page=1&limit=10&role=admin_plus&status=active HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:53:42] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:53:42] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:42] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:53:42] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:53:42] INFO: Données utilisateur récupérées:
[2025-05-19 13:53:42] INFO: - ID: 5
[2025-05-19 13:53:42] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:42] INFO: - role_id depuis la table users: 2
[2025-05-19 13:53:42] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:53:42] INFO: - role_nom: admin_plus
[2025-05-19 13:53:42] INFO: - role_description: Super administrateur du système
[2025-05-19 13:53:42] INFO: Objet utilisateur final construit:
[2025-05-19 13:53:42] INFO: - ID: 5
[2025-05-19 13:53:42] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:42] INFO: - Role.id: 2
[2025-05-19 13:53:42] INFO: - Role.nom: admin_plus
[2025-05-19 13:53:42] INFO: - Role.role_type: admin_plus
[2025-05-19 13:53:42] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:53:42] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:53:42] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:42] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:53:42] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:53:42] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:53:42] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10","status":"inactive"}
[2025-05-19 13:53:42] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE `User`.`active` = false;
[2025-05-19 13:53:42] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE `User`.`active` = false ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:53:42] INFO: ::1 - - [19/May/2025:11:53:42 +0000] "GET /api/users?page=1&limit=10&status=inactive HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:53:44] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:53:44] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:44] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:53:44] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:53:44] INFO: Données utilisateur récupérées:
[2025-05-19 13:53:44] INFO: - ID: 5
[2025-05-19 13:53:44] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:44] INFO: - role_id depuis la table users: 2
[2025-05-19 13:53:44] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:53:44] INFO: - role_nom: admin_plus
[2025-05-19 13:53:44] INFO: - role_description: Super administrateur du système
[2025-05-19 13:53:44] INFO: Objet utilisateur final construit:
[2025-05-19 13:53:44] INFO: - ID: 5
[2025-05-19 13:53:44] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:44] INFO: - Role.id: 2
[2025-05-19 13:53:44] INFO: - Role.nom: admin_plus
[2025-05-19 13:53:44] INFO: - Role.role_type: admin_plus
[2025-05-19 13:53:44] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:53:44] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:53:44] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:44] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:53:44] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:53:44] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:53:44] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10","role":"client","status":"active"}
[2025-05-19 13:53:44] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` AND `role`.`nom` = 'client' WHERE `User`.`active` = true;
[2025-05-19 13:53:44] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` AND `role`.`nom` = 'client' WHERE `User`.`active` = true ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:53:44] INFO: ::1 - - [19/May/2025:11:53:44 +0000] "GET /api/users?page=1&limit=10&role=client&status=active HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:53:47] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:53:47] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:47] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:53:47] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:53:47] INFO: Données utilisateur récupérées:
[2025-05-19 13:53:47] INFO: - ID: 5
[2025-05-19 13:53:47] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:47] INFO: - role_id depuis la table users: 2
[2025-05-19 13:53:47] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:53:47] INFO: - role_nom: admin_plus
[2025-05-19 13:53:47] INFO: - role_description: Super administrateur du système
[2025-05-19 13:53:47] INFO: Objet utilisateur final construit:
[2025-05-19 13:53:47] INFO: - ID: 5
[2025-05-19 13:53:47] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:47] INFO: - Role.id: 2
[2025-05-19 13:53:47] INFO: - Role.nom: admin_plus
[2025-05-19 13:53:47] INFO: - Role.role_type: admin_plus
[2025-05-19 13:53:47] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:53:47] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:53:47] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:47] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:53:47] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:53:47] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:53:47] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10"}
[2025-05-19 13:53:47] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id`;
[2025-05-19 13:53:47] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:53:47] INFO: ::1 - - [19/May/2025:11:53:47 +0000] "GET /api/users?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:53:55] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:53:55] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:55] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:53:55] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:53:55] INFO: Données utilisateur récupérées:
[2025-05-19 13:53:55] INFO: - ID: 5
[2025-05-19 13:53:55] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:55] INFO: - role_id depuis la table users: 2
[2025-05-19 13:53:55] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:53:55] INFO: - role_nom: admin_plus
[2025-05-19 13:53:55] INFO: - role_description: Super administrateur du système
[2025-05-19 13:53:55] INFO: Objet utilisateur final construit:
[2025-05-19 13:53:55] INFO: - ID: 5
[2025-05-19 13:53:55] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:53:55] INFO: - Role.id: 2
[2025-05-19 13:53:55] INFO: - Role.nom: admin_plus
[2025-05-19 13:53:55] INFO: - Role.role_type: admin_plus
[2025-05-19 13:53:55] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:53:55] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:53:55] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:53:55] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` LEFT OUTER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:53:55] INFO: ::1 - - [19/May/2025:11:53:55 +0000] "GET /api/users/8 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:54:04] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:54:04] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:54:04] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:54:04] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:54:04] INFO: Données utilisateur récupérées:
[2025-05-19 13:54:04] INFO: - ID: 5
[2025-05-19 13:54:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:04] INFO: - role_id depuis la table users: 2
[2025-05-19 13:54:04] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:54:04] INFO: - role_nom: admin_plus
[2025-05-19 13:54:04] INFO: - role_description: Super administrateur du système
[2025-05-19 13:54:04] INFO: Objet utilisateur final construit:
[2025-05-19 13:54:04] INFO: - ID: 5
[2025-05-19 13:54:04] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:04] INFO: - Role.id: 2
[2025-05-19 13:54:04] INFO: - Role.nom: admin_plus
[2025-05-19 13:54:04] INFO: - Role.role_type: admin_plus
[2025-05-19 13:54:04] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:54:04] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:54:04] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:54:04] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:54:04] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:54:04] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:54:04] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10"}
[2025-05-19 13:54:04] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id`;
[2025-05-19 13:54:04] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:54:04] INFO: ::1 - - [19/May/2025:11:54:04 +0000] "GET /api/users?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:54:26] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:54:26] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:54:26] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:54:26] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:54:26] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:54:26] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:54:26] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:54:26] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:54:26] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:54:26] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:54:26] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:54:26] INFO: Données utilisateur récupérées:
[2025-05-19 13:54:26] INFO: - ID: 5
[2025-05-19 13:54:26] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:26] INFO: - role_id depuis la table users: 2
[2025-05-19 13:54:26] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:54:26] INFO: - role_nom: admin_plus
[2025-05-19 13:54:26] INFO: - role_description: Super administrateur du système
[2025-05-19 13:54:26] INFO: Objet utilisateur final construit:
[2025-05-19 13:54:26] INFO: - ID: 5
[2025-05-19 13:54:26] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:26] INFO: - Role.id: 2
[2025-05-19 13:54:26] INFO: - Role.nom: admin_plus
[2025-05-19 13:54:26] INFO: - Role.role_type: admin_plus
[2025-05-19 13:54:26] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:54:26] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:54:26] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:54:26] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:54:26] INFO: Données utilisateur récupérées:
[2025-05-19 13:54:26] INFO: - ID: 5
[2025-05-19 13:54:26] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:26] INFO: - role_id depuis la table users: 2
[2025-05-19 13:54:26] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:54:26] INFO: - role_nom: admin_plus
[2025-05-19 13:54:26] INFO: - role_description: Super administrateur du système
[2025-05-19 13:54:26] INFO: Objet utilisateur final construit:
[2025-05-19 13:54:26] INFO: - ID: 5
[2025-05-19 13:54:26] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:26] INFO: - Role.id: 2
[2025-05-19 13:54:26] INFO: - Role.nom: admin_plus
[2025-05-19 13:54:26] INFO: - Role.role_type: admin_plus
[2025-05-19 13:54:26] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:54:26] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:54:26] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:54:26] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:54:26] INFO: - URL complète: http://localhost:3000/api/modules
[2025-05-19 13:54:26] INFO: - Méthode: GET
[2025-05-19 13:54:26] INFO: - Paramètres de requête: {}
[2025-05-19 13:54:26] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:54:26] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:54:26] INFO: - ID Utilisateur: 5
[2025-05-19 13:54:26] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:26] INFO: - Rôle ID: 2
[2025-05-19 13:54:26] INFO: - Rôle nom: admin_plus
[2025-05-19 13:54:26] INFO: - Rôle type: admin_plus
[2025-05-19 13:54:26] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:54:26] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:54:26] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` LEFT OUTER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:54:26] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:54:26] INFO: ::1 - - [19/May/2025:11:54:26 +0000] "GET /api/users/8 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:54:26] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:54:26] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:54:26] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:54:26] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:54:26] INFO: - Options de tri: date_creation desc
[2025-05-19 13:54:26] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:54:26] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:54:26] INFO: Données utilisateur récupérées:
[2025-05-19 13:54:26] INFO: - ID: 5
[2025-05-19 13:54:26] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:26] INFO: - role_id depuis la table users: 2
[2025-05-19 13:54:26] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:54:26] INFO: - role_nom: admin_plus
[2025-05-19 13:54:26] INFO: - role_description: Super administrateur du système
[2025-05-19 13:54:26] INFO: Objet utilisateur final construit:
[2025-05-19 13:54:26] INFO: - ID: 5
[2025-05-19 13:54:26] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:26] INFO: - Role.id: 2
[2025-05-19 13:54:26] INFO: - Role.nom: admin_plus
[2025-05-19 13:54:26] INFO: - Role.role_type: admin_plus
[2025-05-19 13:54:26] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:54:26] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:54:26] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:54:26] INFO: Récupération des modules pour l'utilisateur ID: 8
[2025-05-19 13:54:26] INFO: Demande effectuée par: ID 5, rôle: admin_plus, isAdmin: true, isSelf: false
[2025-05-19 13:54:26] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:54:26] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `suiviModules`.`id` AS `suiviModules.id`, `suiviModules`.`user_id` AS `suiviModules.user_id`, `suiviModules`.`module_id` AS `suiviModules.module_id`, `suiviModules`.`progression` AS `suiviModules.progression`, `suiviModules`.`status_id` AS `suiviModules.status_id`, `suiviModules`.`date_completion` AS `suiviModules.date_completion`, `suiviModules`.`date_mise_a_jour` AS `suiviModules.date_mise_a_jour`, `suiviModules->status`.`id` AS `suiviModules.status.id`, `suiviModules->status`.`type_status` AS `suiviModules.status.type_status` FROM `users` AS `User` LEFT OUTER JOIN `suivi_module` AS `suiviModules` ON `User`.`id` = `suiviModules`.`user_id` LEFT OUTER JOIN `status_suivi` AS `suiviModules->status` ON `suiviModules`.`status_id` = `suiviModules->status`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:54:26] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:54:26] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id`;
[2025-05-19 13:54:26] INFO: Renvoi de 2 modules pour l'utilisateur admin/formateur 8
[2025-05-19 13:54:26] INFO: ::1 - - [19/May/2025:11:54:26 +0000] "GET /api/users/8/modules HTTP/1.1" 200 944 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:54:26] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:54:26] INFO: - Détail des modules trouvés:
[2025-05-19 13:54:26] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:54:26] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:54:26] INFO: ::1 - - [19/May/2025:11:54:26 +0000] "GET /api/modules HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:54:41] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:54:41] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:54:41] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:54:41] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:54:41] INFO: Données utilisateur récupérées:
[2025-05-19 13:54:41] INFO: - ID: 5
[2025-05-19 13:54:41] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:41] INFO: - role_id depuis la table users: 2
[2025-05-19 13:54:41] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:54:41] INFO: - role_nom: admin_plus
[2025-05-19 13:54:41] INFO: - role_description: Super administrateur du système
[2025-05-19 13:54:41] INFO: Objet utilisateur final construit:
[2025-05-19 13:54:41] INFO: - ID: 5
[2025-05-19 13:54:41] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:54:41] INFO: - Role.id: 2
[2025-05-19 13:54:41] INFO: - Role.nom: admin_plus
[2025-05-19 13:54:41] INFO: - Role.role_type: admin_plus
[2025-05-19 13:54:41] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:54:41] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:54:41] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:54:41] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:54:41] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:54:41] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:54:41] INFO: [removeModuleFromUser] Retrait du module 8 de l'utilisateur 8
[2025-05-19 13:54:41] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module` WHERE `Module`.`id` = '8';
[2025-05-19 13:54:41] DEBUG: Executing (default): SELECT `id`, `nom`, `prenom`, `mail`, `mdp`, `date_naissance`, `role_id`, `active`, `created_at`, `updated_at` FROM `users` AS `User` WHERE `User`.`id` = '8';
[2025-05-19 13:54:41] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `ModulesUsers`.`id` AS `ModulesUsers.id`, `ModulesUsers`.`module_id` AS `ModulesUsers.module_id`, `ModulesUsers`.`user_id` AS `ModulesUsers.user_id`, `ModulesUsers`.`date_affectation` AS `ModulesUsers.date_affectation`, `ModulesUsers`.`created_at` AS `ModulesUsers.created_at`, `ModulesUsers`.`updated_at` AS `ModulesUsers.updated_at` FROM `users` AS `User` INNER JOIN `modules_users` AS `ModulesUsers` ON `User`.`id` = `ModulesUsers`.`user_id` AND `ModulesUsers`.`module_id` = 8 WHERE (`User`.`id` = '8');
[2025-05-19 13:54:41] INFO: ::1 - - [19/May/2025:11:54:41 +0000] "DELETE /api/modules/8/assign/8 HTTP/1.1" 400 93 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:11] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:11] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:11] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:11] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:11] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:11] INFO: - ID: 5
[2025-05-19 13:55:11] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:11] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:11] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:11] INFO: - role_nom: admin_plus
[2025-05-19 13:55:11] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:11] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:11] INFO: - ID: 5
[2025-05-19 13:55:11] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:11] INFO: - Role.id: 2
[2025-05-19 13:55:11] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:11] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:11] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:11] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:11] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:11] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:55:11] INFO: - URL complète: http://localhost:3000/api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true
[2025-05-19 13:55:11] INFO: - Méthode: GET
[2025-05-19 13:55:11] INFO: - Paramètres de requête: {"sortBy":"date_creation","sortOrder":"desc","debug":"true","noFilter":"true"}
[2025-05-19 13:55:11] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:55:11] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:55:11] INFO: - ID Utilisateur: 5
[2025-05-19 13:55:11] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:11] INFO: - Rôle ID: 2
[2025-05-19 13:55:11] INFO: - Rôle nom: admin_plus
[2025-05-19 13:55:11] INFO: - Rôle type: admin_plus
[2025-05-19 13:55:11] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:55:11] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:55:11] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:11] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:55:11] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:55:11] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:55:11] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:55:11] INFO: - Options de tri: date_creation desc
[2025-05-19 13:55:11] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:55:11] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:55:11] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:11] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:55:11] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:55:11] INFO: - Détail des modules trouvés:
[2025-05-19 13:55:11] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:55:11] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:55:11] INFO: ::1 - - [19/May/2025:11:55:11 +0000] "GET /api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:12] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:12] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:12] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:12] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:12] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:12] INFO: - ID: 5
[2025-05-19 13:55:12] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:12] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:12] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:12] INFO: - role_nom: admin_plus
[2025-05-19 13:55:12] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:12] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:12] INFO: - ID: 5
[2025-05-19 13:55:12] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:12] INFO: - Role.id: 2
[2025-05-19 13:55:12] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:12] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:12] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:12] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:12] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:12] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:55:12] INFO: - URL complète: http://localhost:3000/api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true
[2025-05-19 13:55:12] INFO: - Méthode: GET
[2025-05-19 13:55:12] INFO: - Paramètres de requête: {"sortBy":"date_creation","sortOrder":"desc","debug":"true","noFilter":"true"}
[2025-05-19 13:55:12] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:55:12] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:55:12] INFO: - ID Utilisateur: 5
[2025-05-19 13:55:12] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:12] INFO: - Rôle ID: 2
[2025-05-19 13:55:12] INFO: - Rôle nom: admin_plus
[2025-05-19 13:55:12] INFO: - Rôle type: admin_plus
[2025-05-19 13:55:12] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:55:12] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:55:12] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:12] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:55:12] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:55:12] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:55:12] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:55:12] INFO: - Options de tri: date_creation desc
[2025-05-19 13:55:12] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:55:12] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:55:12] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:12] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:55:12] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:55:12] INFO: - Détail des modules trouvés:
[2025-05-19 13:55:12] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:55:12] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:55:12] INFO: ::1 - - [19/May/2025:11:55:12 +0000] "GET /api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:14] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:14] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:14] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:14] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:14] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:14] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:14] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:14] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:14] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:14] INFO: - ID: 5
[2025-05-19 13:55:14] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:14] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:14] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:14] INFO: - role_nom: admin_plus
[2025-05-19 13:55:14] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:14] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:14] INFO: - ID: 5
[2025-05-19 13:55:14] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:14] INFO: - Role.id: 2
[2025-05-19 13:55:14] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:14] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:14] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:14] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:14] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:14] INFO: [getModuleById] Récupération du module 7 par l'utilisateur 5 (rôle: admin_plus)
[2025-05-19 13:55:14] INFO: [getModuleById] Informations utilisateur complètes: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
[2025-05-19 13:55:14] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` WHERE `Module`.`id` = '7';
[2025-05-19 13:55:14] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:14] INFO: - ID: 5
[2025-05-19 13:55:14] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:14] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:14] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:14] INFO: - role_nom: admin_plus
[2025-05-19 13:55:14] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:14] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:14] INFO: - ID: 5
[2025-05-19 13:55:14] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:14] INFO: - Role.id: 2
[2025-05-19 13:55:14] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:14] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:14] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:14] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:14] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:14] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:55:14] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:55:14] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:55:14] INFO: Récupération des utilisateurs avec filtres: {}
[2025-05-19 13:55:14] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id`;
[2025-05-19 13:55:14] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:55:14] INFO: [getModuleById] Rôle utilisateur: nom=admin_plus, Est admin: true
[2025-05-19 13:55:14] INFO: [getModuleById] Accès accordé au module 7 pour l'administrateur 5
[2025-05-19 13:55:14] INFO: ::1 - - [19/May/2025:11:55:14 +0000] "GET /api/modules/7 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:14] INFO: ::1 - - [19/May/2025:11:55:14 +0000] "GET /api/users HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:14] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:14] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:14] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:14] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:14] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:14] INFO: - ID: 5
[2025-05-19 13:55:14] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:14] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:14] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:14] INFO: - role_nom: admin_plus
[2025-05-19 13:55:14] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:14] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:14] INFO: - ID: 5
[2025-05-19 13:55:14] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:14] INFO: - Role.id: 2
[2025-05-19 13:55:14] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:14] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:14] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:14] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:14] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:14] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:55:14] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:55:14] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:55:14] INFO: [getModuleUsers] Récupération des utilisateurs pour le module 7
[2025-05-19 13:55:14] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module` WHERE `Module`.`id` = '7';
[2025-05-19 13:55:14] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`active`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description` FROM `users` AS `User` INNER JOIN ( `modules_users` AS `modules->ModulesUsers` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModulesUsers`.`module_id`) ON `User`.`id` = `modules->ModulesUsers`.`user_id` AND `modules`.`id` = '7' LEFT OUTER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id`;
[2025-05-19 13:55:14] INFO: [getModuleUsers] 1 utilisateurs trouvés pour le module 7
[2025-05-19 13:55:14] INFO: [getModuleUsers] Détail des rôles: [{"id":8,"role":"client"}]
[2025-05-19 13:55:14] INFO: ::1 - - [19/May/2025:11:55:14 +0000] "GET /api/modules/7/users HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:17] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:17] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:17] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:17] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:17] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:17] INFO: - ID: 5
[2025-05-19 13:55:17] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:17] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:17] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:17] INFO: - role_nom: admin_plus
[2025-05-19 13:55:17] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:17] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:17] INFO: - ID: 5
[2025-05-19 13:55:17] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:17] INFO: - Role.id: 2
[2025-05-19 13:55:17] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:17] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:17] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:17] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:17] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:17] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:55:17] INFO: - URL complète: http://localhost:3000/api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true
[2025-05-19 13:55:17] INFO: - Méthode: GET
[2025-05-19 13:55:17] INFO: - Paramètres de requête: {"sortBy":"date_creation","sortOrder":"desc","debug":"true","noFilter":"true"}
[2025-05-19 13:55:17] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:55:17] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:55:17] INFO: - ID Utilisateur: 5
[2025-05-19 13:55:17] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:17] INFO: - Rôle ID: 2
[2025-05-19 13:55:17] INFO: - Rôle nom: admin_plus
[2025-05-19 13:55:17] INFO: - Rôle type: admin_plus
[2025-05-19 13:55:17] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:55:17] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:55:17] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:17] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:55:17] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:55:17] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:55:17] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:55:17] INFO: - Options de tri: date_creation desc
[2025-05-19 13:55:17] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:55:17] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:55:17] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:17] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:55:17] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:55:17] INFO: - Détail des modules trouvés:
[2025-05-19 13:55:17] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:55:17] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:55:17] INFO: ::1 - - [19/May/2025:11:55:17 +0000] "GET /api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:18] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:18] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:18] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:18] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:18] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:18] INFO: - ID: 5
[2025-05-19 13:55:18] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:18] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:18] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:18] INFO: - role_nom: admin_plus
[2025-05-19 13:55:18] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:18] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:18] INFO: - ID: 5
[2025-05-19 13:55:18] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:18] INFO: - Role.id: 2
[2025-05-19 13:55:18] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:18] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:18] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:18] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:18] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:18] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:55:18] INFO: - URL complète: http://localhost:3000/api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true
[2025-05-19 13:55:18] INFO: - Méthode: GET
[2025-05-19 13:55:18] INFO: - Paramètres de requête: {"sortBy":"date_creation","sortOrder":"desc","debug":"true","noFilter":"true"}
[2025-05-19 13:55:18] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:55:18] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:55:18] INFO: - ID Utilisateur: 5
[2025-05-19 13:55:18] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:18] INFO: - Rôle ID: 2
[2025-05-19 13:55:18] INFO: - Rôle nom: admin_plus
[2025-05-19 13:55:18] INFO: - Rôle type: admin_plus
[2025-05-19 13:55:18] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:55:18] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:55:18] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:18] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:55:18] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:55:18] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:55:18] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:55:18] INFO: - Options de tri: date_creation desc
[2025-05-19 13:55:18] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:55:18] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:55:18] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:18] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:55:18] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:55:18] INFO: - Détail des modules trouvés:
[2025-05-19 13:55:18] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:55:18] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:55:18] INFO: ::1 - - [19/May/2025:11:55:18 +0000] "GET /api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:19] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:19] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:19] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:19] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:19] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:19] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:19] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:19] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:19] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:19] INFO: - ID: 5
[2025-05-19 13:55:19] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:19] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:19] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:19] INFO: - role_nom: admin_plus
[2025-05-19 13:55:19] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:19] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:19] INFO: - ID: 5
[2025-05-19 13:55:19] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:19] INFO: - Role.id: 2
[2025-05-19 13:55:19] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:19] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:19] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:19] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:19] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:19] INFO: [getModuleById] Récupération du module 8 par l'utilisateur 5 (rôle: admin_plus)
[2025-05-19 13:55:19] INFO: [getModuleById] Informations utilisateur complètes: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
[2025-05-19 13:55:19] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` WHERE `Module`.`id` = '8';
[2025-05-19 13:55:19] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:19] INFO: - ID: 5
[2025-05-19 13:55:19] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:19] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:19] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:19] INFO: - role_nom: admin_plus
[2025-05-19 13:55:19] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:19] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:19] INFO: - ID: 5
[2025-05-19 13:55:19] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:19] INFO: - Role.id: 2
[2025-05-19 13:55:19] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:19] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:19] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:19] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:19] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:19] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:55:19] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:55:19] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:55:19] INFO: Récupération des utilisateurs avec filtres: {}
[2025-05-19 13:55:19] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id`;
[2025-05-19 13:55:19] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:55:19] INFO: [getModuleById] Rôle utilisateur: nom=admin_plus, Est admin: true
[2025-05-19 13:55:19] INFO: [getModuleById] Accès accordé au module 8 pour l'administrateur 5
[2025-05-19 13:55:19] INFO: ::1 - - [19/May/2025:11:55:19 +0000] "GET /api/modules/8 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:19] INFO: ::1 - - [19/May/2025:11:55:19 +0000] "GET /api/users HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:19] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:19] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:19] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:19] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:19] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:19] INFO: - ID: 5
[2025-05-19 13:55:19] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:19] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:19] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:19] INFO: - role_nom: admin_plus
[2025-05-19 13:55:19] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:19] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:19] INFO: - ID: 5
[2025-05-19 13:55:19] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:19] INFO: - Role.id: 2
[2025-05-19 13:55:19] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:19] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:19] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:19] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:19] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:19] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:55:19] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:55:19] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:55:19] INFO: [getModuleUsers] Récupération des utilisateurs pour le module 8
[2025-05-19 13:55:19] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module` WHERE `Module`.`id` = '8';
[2025-05-19 13:55:19] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`active`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description` FROM `users` AS `User` INNER JOIN ( `modules_users` AS `modules->ModulesUsers` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModulesUsers`.`module_id`) ON `User`.`id` = `modules->ModulesUsers`.`user_id` AND `modules`.`id` = '8' LEFT OUTER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id`;
[2025-05-19 13:55:19] INFO: [getModuleUsers] 0 utilisateurs trouvés pour le module 8
[2025-05-19 13:55:19] INFO: [getModuleUsers] Détail des rôles: []
[2025-05-19 13:55:19] INFO: ::1 - - [19/May/2025:11:55:19 +0000] "GET /api/modules/8/users HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:22] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:22] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:22] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:22] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:22] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:22] INFO: - ID: 5
[2025-05-19 13:55:22] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:22] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:22] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:22] INFO: - role_nom: admin_plus
[2025-05-19 13:55:22] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:22] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:22] INFO: - ID: 5
[2025-05-19 13:55:22] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:22] INFO: - Role.id: 2
[2025-05-19 13:55:22] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:22] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:22] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:22] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:22] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:22] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:55:22] INFO: - URL complète: http://localhost:3000/api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true
[2025-05-19 13:55:22] INFO: - Méthode: GET
[2025-05-19 13:55:22] INFO: - Paramètres de requête: {"sortBy":"date_creation","sortOrder":"desc","debug":"true","noFilter":"true"}
[2025-05-19 13:55:22] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:55:22] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:55:22] INFO: - ID Utilisateur: 5
[2025-05-19 13:55:22] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:22] INFO: - Rôle ID: 2
[2025-05-19 13:55:22] INFO: - Rôle nom: admin_plus
[2025-05-19 13:55:22] INFO: - Rôle type: admin_plus
[2025-05-19 13:55:22] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:55:22] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:55:22] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:22] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:55:22] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:55:22] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:55:22] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:55:22] INFO: - Options de tri: date_creation desc
[2025-05-19 13:55:22] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:55:22] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:55:22] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:22] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:55:22] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:55:22] INFO: - Détail des modules trouvés:
[2025-05-19 13:55:22] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:55:22] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:55:22] INFO: ::1 - - [19/May/2025:11:55:22 +0000] "GET /api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:23] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:23] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:23] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:23] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:23] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:23] INFO: - ID: 5
[2025-05-19 13:55:23] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:23] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:23] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:23] INFO: - role_nom: admin_plus
[2025-05-19 13:55:23] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:23] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:23] INFO: - ID: 5
[2025-05-19 13:55:23] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:23] INFO: - Role.id: 2
[2025-05-19 13:55:23] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:23] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:23] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:23] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:23] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:23] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:55:23] INFO: - URL complète: http://localhost:3000/api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true
[2025-05-19 13:55:23] INFO: - Méthode: GET
[2025-05-19 13:55:23] INFO: - Paramètres de requête: {"sortBy":"date_creation","sortOrder":"desc","debug":"true","noFilter":"true"}
[2025-05-19 13:55:23] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:55:23] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:55:23] INFO: - ID Utilisateur: 5
[2025-05-19 13:55:23] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:23] INFO: - Rôle ID: 2
[2025-05-19 13:55:23] INFO: - Rôle nom: admin_plus
[2025-05-19 13:55:23] INFO: - Rôle type: admin_plus
[2025-05-19 13:55:23] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:55:23] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:55:23] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:23] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 2
[2025-05-19 13:55:23] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:55:23] INFO:   Module 2: ID=8, Titre=test module 2, Statut=publié
[2025-05-19 13:55:23] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:55:23] INFO: - Options de tri: date_creation desc
[2025-05-19 13:55:23] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:55:23] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:55:23] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:23] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:55:23] INFO: - Modules trouvés pour l'administrateur: 2
[2025-05-19 13:55:23] INFO: - Détail des modules trouvés:
[2025-05-19 13:55:23] INFO:   Module 1: ID=8, Titre="test module 2", Statut=publié, Séances=0, Clients=0
[2025-05-19 13:55:23] INFO:   Module 2: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:55:23] INFO: ::1 - - [19/May/2025:11:55:23 +0000] "GET /api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:24] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:24] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:24] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:24] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:24] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:24] INFO: - ID: 5
[2025-05-19 13:55:24] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:24] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:24] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:24] INFO: - role_nom: admin_plus
[2025-05-19 13:55:24] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:24] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:24] INFO: - ID: 5
[2025-05-19 13:55:24] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:24] INFO: - Role.id: 2
[2025-05-19 13:55:24] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:24] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:24] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:24] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:24] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:24] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:55:24] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:55:24] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:55:24] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module` WHERE `Module`.`id` = '8';
[2025-05-19 13:55:24] DEBUG: Executing (default): DELETE FROM `modules` WHERE `id` = 8
[2025-05-19 13:55:24] INFO: Notification Socket.IO envoyée: module supprimé (8)
[2025-05-19 13:55:24] INFO: Module supprimé: 8
[2025-05-19 13:55:24] INFO: ::1 - - [19/May/2025:11:55:24 +0000] "DELETE /api/modules/8 HTTP/1.1" 200 43 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:24] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:24] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:24] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:24] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:24] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:24] INFO: - ID: 5
[2025-05-19 13:55:24] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:24] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:24] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:24] INFO: - role_nom: admin_plus
[2025-05-19 13:55:24] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:24] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:24] INFO: - ID: 5
[2025-05-19 13:55:24] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:24] INFO: - Role.id: 2
[2025-05-19 13:55:24] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:24] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:24] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:24] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:24] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:24] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:55:24] INFO: - URL complète: http://localhost:3000/api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true
[2025-05-19 13:55:24] INFO: - Méthode: GET
[2025-05-19 13:55:24] INFO: - Paramètres de requête: {"sortBy":"date_creation","sortOrder":"desc","debug":"true","noFilter":"true"}
[2025-05-19 13:55:24] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:55:24] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:55:24] INFO: - ID Utilisateur: 5
[2025-05-19 13:55:24] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:24] INFO: - Rôle ID: 2
[2025-05-19 13:55:24] INFO: - Rôle nom: admin_plus
[2025-05-19 13:55:24] INFO: - Rôle type: admin_plus
[2025-05-19 13:55:24] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:55:24] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:55:24] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:24] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 1
[2025-05-19 13:55:24] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:55:24] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:55:24] INFO: - Options de tri: date_creation desc
[2025-05-19 13:55:24] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:55:24] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:55:24] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:24] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:55:24] INFO: - Modules trouvés pour l'administrateur: 1
[2025-05-19 13:55:24] INFO: - Détail des modules trouvés:
[2025-05-19 13:55:24] INFO:   Module 1: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:55:24] INFO: ::1 - - [19/May/2025:11:55:24 +0000] "GET /api/modules?sortBy=date_creation&sortOrder=desc&debug=true&noFilter=true HTTP/1.1" 200 1017 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:26] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:26] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:26] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:26] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:26] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:26] INFO: - ID: 5
[2025-05-19 13:55:26] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:26] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:26] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:26] INFO: - role_nom: admin_plus
[2025-05-19 13:55:26] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:26] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:26] INFO: - ID: 5
[2025-05-19 13:55:26] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:26] INFO: - Role.id: 2
[2025-05-19 13:55:26] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:26] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:26] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:26] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:26] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:26] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:55:26] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:55:26] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:55:26] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10"}
[2025-05-19 13:55:26] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id`;
[2025-05-19 13:55:26] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:55:26] INFO: ::1 - - [19/May/2025:11:55:26 +0000] "GET /api/users?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:28] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:28] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:28] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:28] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:28] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:28] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:28] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:28] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:28] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:28] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:28] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:28] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:28] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:28] INFO: - ID: 5
[2025-05-19 13:55:28] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:28] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:28] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:28] INFO: - role_nom: admin_plus
[2025-05-19 13:55:28] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:28] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:28] INFO: - ID: 5
[2025-05-19 13:55:28] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:28] INFO: - Role.id: 2
[2025-05-19 13:55:28] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:28] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:28] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:28] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:28] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:28] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` LEFT OUTER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:55:28] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:28] INFO: - ID: 5
[2025-05-19 13:55:28] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:28] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:28] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:28] INFO: - role_nom: admin_plus
[2025-05-19 13:55:28] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:28] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:28] INFO: - ID: 5
[2025-05-19 13:55:28] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:28] INFO: - Role.id: 2
[2025-05-19 13:55:28] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:28] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:28] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:28] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:28] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:28] INFO: Récupération des modules pour l'utilisateur ID: 8
[2025-05-19 13:55:28] INFO: Demande effectuée par: ID 5, rôle: admin_plus, isAdmin: true, isSelf: false
[2025-05-19 13:55:28] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `suiviModules`.`id` AS `suiviModules.id`, `suiviModules`.`user_id` AS `suiviModules.user_id`, `suiviModules`.`module_id` AS `suiviModules.module_id`, `suiviModules`.`progression` AS `suiviModules.progression`, `suiviModules`.`status_id` AS `suiviModules.status_id`, `suiviModules`.`date_completion` AS `suiviModules.date_completion`, `suiviModules`.`date_mise_a_jour` AS `suiviModules.date_mise_a_jour`, `suiviModules->status`.`id` AS `suiviModules.status.id`, `suiviModules->status`.`type_status` AS `suiviModules.status.type_status` FROM `users` AS `User` LEFT OUTER JOIN `suivi_module` AS `suiviModules` ON `User`.`id` = `suiviModules`.`user_id` LEFT OUTER JOIN `status_suivi` AS `suiviModules->status` ON `suiviModules`.`status_id` = `suiviModules->status`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:55:28] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:28] INFO: - ID: 5
[2025-05-19 13:55:28] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:28] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:28] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:28] INFO: - role_nom: admin_plus
[2025-05-19 13:55:28] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:28] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:28] INFO: - ID: 5
[2025-05-19 13:55:28] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:28] INFO: - Role.id: 2
[2025-05-19 13:55:28] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:28] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:28] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:28] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:28] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:28] INFO: ===== DÉTAIL DE LA REQUÊTE MODULES =====
[2025-05-19 13:55:28] INFO: - URL complète: http://localhost:3000/api/modules
[2025-05-19 13:55:28] INFO: - Méthode: GET
[2025-05-19 13:55:28] INFO: - Paramètres de requête: {}
[2025-05-19 13:55:28] INFO: - Paramètre statut reçu: ""
[2025-05-19 13:55:28] INFO: ===== INFORMATIONS UTILISATEUR =====
[2025-05-19 13:55:28] INFO: - ID Utilisateur: 5
[2025-05-19 13:55:28] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:28] INFO: - Rôle ID: 2
[2025-05-19 13:55:28] INFO: - Rôle nom: admin_plus
[2025-05-19 13:55:28] INFO: - Rôle type: admin_plus
[2025-05-19 13:55:28] INFO: - L'utilisateur est-il admin? Oui
[2025-05-19 13:55:28] INFO: 
========== IMPORTANT ==========
Dump complet de l'objet utilisateur: {"id":5,"mail":"jason.jako.57@gmail.com","mdp":"$2b$10$EZt9f4LBgiS58fRV69HdeeJ/gumMuGnzyQ0j8FsRKp9cZ3zWuwNl2","prenom":"Jason","nom":"JAKO","date_naissance":"2001-01-08","role_id":2,"active":1,"created_at":"2025-05-13T09:34:49.000Z","updated_at":"2025-05-18T17:43:07.000Z","role_id_from_join":2,"role_nom":"admin_plus","role_description":"Super administrateur du système","role":{"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}}
==============================

[2025-05-19 13:55:28] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:28] INFO: ::1 - - [19/May/2025:11:55:28 +0000] "GET /api/users/8 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:28] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id`;
[2025-05-19 13:55:28] INFO: - VÉRIFICATION: Nombre total de modules sans filtre: 1
[2025-05-19 13:55:28] INFO:   Module 1: ID=7, Titre=test module, Statut=publié
[2025-05-19 13:55:28] INFO: - Conditions WHERE construites: {}
[2025-05-19 13:55:28] INFO: - Options de tri: date_creation desc
[2025-05-19 13:55:28] INFO: - Utilisateur role: admin_plus, Admin: Oui
[2025-05-19 13:55:28] DEBUG: Executing (default): SELECT count(DISTINCT(`id`)) AS `count` FROM `modules` AS `Module`;
[2025-05-19 13:55:28] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module`;
[2025-05-19 13:55:28] INFO: Renvoi de 1 modules pour l'utilisateur admin/formateur 8
[2025-05-19 13:55:28] INFO: ::1 - - [19/May/2025:11:55:28 +0000] "GET /api/users/8/modules HTTP/1.1" 200 624 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:28] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `users`.`id` AS `users.id`, `users`.`nom` AS `users.nom`, `users`.`prenom` AS `users.prenom`, `users`.`mail` AS `users.mail`, `users`.`mdp` AS `users.mdp`, `users`.`date_naissance` AS `users.date_naissance`, `users`.`role_id` AS `users.role_id`, `users`.`active` AS `users.active`, `users`.`created_at` AS `users.created_at`, `users`.`updated_at` AS `users.updated_at`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `modules_users` AS `users->ModulesUsers` INNER JOIN `users` AS `users` ON `users`.`id` = `users->ModulesUsers`.`user_id`) ON `Module`.`id` = `users->ModulesUsers`.`module_id` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` ORDER BY `Module`.`date_creation` DESC LIMIT 0, 10;
[2025-05-19 13:55:28] INFO: - Modules trouvés pour l'administrateur: 1
[2025-05-19 13:55:28] INFO: - Détail des modules trouvés:
[2025-05-19 13:55:28] INFO:   Module 1: ID=7, Titre="test module", Statut=publié, Séances=1, Clients=1
[2025-05-19 13:55:28] INFO: ::1 - - [19/May/2025:11:55:28 +0000] "GET /api/modules HTTP/1.1" 200 1017 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:33] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:33] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:33] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:33] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:33] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:33] INFO: - ID: 5
[2025-05-19 13:55:33] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:33] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:33] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:33] INFO: - role_nom: admin_plus
[2025-05-19 13:55:33] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:33] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:33] INFO: - ID: 5
[2025-05-19 13:55:33] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:33] INFO: - Role.id: 2
[2025-05-19 13:55:33] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:33] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:33] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:33] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:33] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:33] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` LEFT OUTER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:55:33] INFO: ::1 - - [19/May/2025:11:55:33 +0000] "GET /api/users/8 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:36] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:36] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:36] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:36] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:36] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:36] INFO: - ID: 5
[2025-05-19 13:55:36] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:36] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:36] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:36] INFO: - role_nom: admin_plus
[2025-05-19 13:55:36] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:36] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:36] INFO: - ID: 5
[2025-05-19 13:55:36] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:36] INFO: - Role.id: 2
[2025-05-19 13:55:36] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:36] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:36] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:36] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:36] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:36] INFO: [checkRole] Vérification des rôles pour l'utilisateur ID=5, Rôle={"id":2,"nom":"admin_plus","description":"Super administrateur du système","role_type":"admin_plus"}
[2025-05-19 13:55:36] INFO: [checkRole] Rôles requis: admin, admin_plus, Rôle utilisateur (nom): admin_plus, Accès accordé: true
[2025-05-19 13:55:36] INFO: [checkRole] Accès accordé à l'utilisateur 5
[2025-05-19 13:55:36] INFO: Récupération des utilisateurs avec filtres: {"page":"1","limit":"10"}
[2025-05-19 13:55:36] DEBUG: Executing (default): SELECT count(`User`.`id`) AS `count` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id`;
[2025-05-19 13:55:36] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` INNER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` ORDER BY `User`.`id` ASC LIMIT 0, 10;
[2025-05-19 13:55:36] INFO: ::1 - - [19/May/2025:11:55:36 +0000] "GET /api/users?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:55:39] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":5,"iat":1747655398,"exp":1747741798}
==============================

[2025-05-19 13:55:39] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:39] INFO: Décodage du token pour l'utilisateur 5
[2025-05-19 13:55:39] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 5
[2025-05-19 13:55:39] INFO: Données utilisateur récupérées:
[2025-05-19 13:55:39] INFO: - ID: 5
[2025-05-19 13:55:39] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:39] INFO: - role_id depuis la table users: 2
[2025-05-19 13:55:39] INFO: - role_id depuis la jointure: 2
[2025-05-19 13:55:39] INFO: - role_nom: admin_plus
[2025-05-19 13:55:39] INFO: - role_description: Super administrateur du système
[2025-05-19 13:55:39] INFO: Objet utilisateur final construit:
[2025-05-19 13:55:39] INFO: - ID: 5
[2025-05-19 13:55:39] INFO: - Email: jason.jako.57@gmail.com
[2025-05-19 13:55:39] INFO: - Role.id: 2
[2025-05-19 13:55:39] INFO: - Role.nom: admin_plus
[2025-05-19 13:55:39] INFO: - Role.role_type: admin_plus
[2025-05-19 13:55:39] INFO: - Role.description: Super administrateur du système
[2025-05-19 13:55:39] INFO: 
========== IMPORTANT ==========
Utilisateur jason.jako.57@gmail.com authentifié avec le rôle: admin_plus
==============================

[2025-05-19 13:55:39] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:55:39] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` LEFT OUTER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE `User`.`id` = '5';
[2025-05-19 13:55:39] INFO: ::1 - - [19/May/2025:11:55:39 +0000] "GET /api/users/5 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:56:15] INFO: Socket déconnecté: 9hG9vUrsrrznZH3dAAAX
[2025-05-19 13:56:20] INFO: Tentative de connexion pour: test1@test.com
[2025-05-19 13:56:20] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` LEFT OUTER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE `User`.`mail` = 'test1@test.com';
[2025-05-19 13:56:20] INFO: Connexion réussie pour: 8 (test1@test.com)
[2025-05-19 13:56:20] INFO: Rôle utilisateur: client
[2025-05-19 13:56:20] INFO: ====== DÉTAIL RÉPONSE LOGIN ======
[2025-05-19 13:56:20] INFO: - ID utilisateur: 8
[2025-05-19 13:56:20] INFO: - Email: test1@test.com
[2025-05-19 13:56:20] INFO: - Rôle ID: 4
[2025-05-19 13:56:20] INFO: - Rôle nom: client
[2025-05-19 13:56:20] INFO: Objet de réponse complet: {"message":"Connexion réussie","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6OCwiaWF0IjoxNzQ3NjU1NzgwLCJleHAiOjE3NDc3NDIxODB9.dXoh-BHMmHc-VwoaM__PgZWqXP9pFXMHCto8lByz_XM","refreshToken":"f60419bf101457d7ddf1c4d4740e42c6b98e63018a54dcc18efda32ed41d8095d6a5d4f2d61f71d7","user":{"id":8,"nom":"Jako","prenom":"Jason","mail":"test1@test.com","role":{"id":4,"nom":"client","role_type":"client"}}}
[2025-05-19 13:56:20] INFO: ====== FIN DÉTAIL RÉPONSE LOGIN ======
[2025-05-19 13:56:20] INFO: ::1 - - [19/May/2025:11:56:20 +0000] "POST /api/auth/login HTTP/1.1" 200 400 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:56:20] INFO: Nouvelle connexion socket: zocc_8h70I_HR9MYAAAZ pour l'utilisateur 8
[2025-05-19 13:56:20] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:56:20] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:56:20] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:56:20] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:56:20] INFO: Données utilisateur récupérées:
[2025-05-19 13:56:20] INFO: - ID: 8
[2025-05-19 13:56:20] INFO: - Email: test1@test.com
[2025-05-19 13:56:20] INFO: - role_id depuis la table users: 4
[2025-05-19 13:56:20] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:56:20] INFO: - role_nom: client
[2025-05-19 13:56:20] INFO: - role_description: Client participant aux formations
[2025-05-19 13:56:20] INFO: Objet utilisateur final construit:
[2025-05-19 13:56:20] INFO: - ID: 8
[2025-05-19 13:56:20] INFO: - Email: test1@test.com
[2025-05-19 13:56:20] INFO: - Role.id: 4
[2025-05-19 13:56:20] INFO: - Role.nom: client
[2025-05-19 13:56:20] INFO: - Role.role_type: client
[2025-05-19 13:56:20] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:56:20] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:56:20] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:56:20] INFO: Récupération des modules pour l'utilisateur ID: 8
[2025-05-19 13:56:20] INFO: Demande effectuée par: ID 8, rôle: client, isAdmin: false, isSelf: true
[2025-05-19 13:56:20] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `suiviModules`.`id` AS `suiviModules.id`, `suiviModules`.`user_id` AS `suiviModules.user_id`, `suiviModules`.`module_id` AS `suiviModules.module_id`, `suiviModules`.`progression` AS `suiviModules.progression`, `suiviModules`.`status_id` AS `suiviModules.status_id`, `suiviModules`.`date_completion` AS `suiviModules.date_completion`, `suiviModules`.`date_mise_a_jour` AS `suiviModules.date_mise_a_jour`, `suiviModules->status`.`id` AS `suiviModules.status.id`, `suiviModules->status`.`type_status` AS `suiviModules.status.type_status` FROM `users` AS `User` LEFT OUTER JOIN `suivi_module` AS `suiviModules` ON `User`.`id` = `suiviModules`.`user_id` LEFT OUTER JOIN `status_suivi` AS `suiviModules->status` ON `suiviModules`.`status_id` = `suiviModules->status`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:56:20] INFO: Utilisateur 8 a rejoint sa salle utilisateur 8
[2025-05-19 13:56:20] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id`;
[2025-05-19 13:56:20] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `modules`.`id` AS `modules.id`, `modules->ModulesUsers`.`id` AS `modules.ModulesUsers.id`, `modules->ModulesUsers`.`module_id` AS `modules.ModulesUsers.module_id`, `modules->ModulesUsers`.`user_id` AS `modules.ModulesUsers.user_id`, `modules->ModulesUsers`.`date_affectation` AS `modules.ModulesUsers.date_affectation`, `modules->ModulesUsers`.`created_at` AS `modules.ModulesUsers.created_at`, `modules->ModulesUsers`.`updated_at` AS `modules.ModulesUsers.updated_at` FROM `users` AS `User` LEFT OUTER JOIN ( `modules_users` AS `modules->ModulesUsers` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModulesUsers`.`module_id`) ON `User`.`id` = `modules->ModulesUsers`.`user_id` WHERE `User`.`id` = '8';
[2025-05-19 13:56:20] INFO: Modules assignés à l'utilisateur 8: 7
[2025-05-19 13:56:20] INFO: Modules filtrés (publiés et assignés) pour l'utilisateur 8: 7
[2025-05-19 13:56:20] INFO: Module 7 - Données de suivi_module: progression=100, status_id=3, status=TERMINE
[2025-05-19 13:56:20] INFO: Module 7 - Progression existante trouvée: 100%, Statut: TERMINE
[2025-05-19 13:56:20] INFO: Module 1: ID=7, Titre="test module", Statut=publié, Séances=1, Progression=100%, Status=TERMINE
[2025-05-19 13:56:20] INFO: ::1 - - [19/May/2025:11:56:20 +0000] "GET /api/modules/user/8 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:56:20] INFO: ::1 - - [19/May/2025:11:56:20 +0000] "GET /uploads/modules/module-1747594819837-351579203.jpg HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:56:46] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:56:46] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:56:46] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:56:46] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:56:46] INFO: Données utilisateur récupérées:
[2025-05-19 13:56:46] INFO: - ID: 8
[2025-05-19 13:56:46] INFO: - Email: test1@test.com
[2025-05-19 13:56:46] INFO: - role_id depuis la table users: 4
[2025-05-19 13:56:46] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:56:46] INFO: - role_nom: client
[2025-05-19 13:56:46] INFO: - role_description: Client participant aux formations
[2025-05-19 13:56:46] INFO: Objet utilisateur final construit:
[2025-05-19 13:56:46] INFO: - ID: 8
[2025-05-19 13:56:46] INFO: - Email: test1@test.com
[2025-05-19 13:56:46] INFO: - Role.id: 4
[2025-05-19 13:56:46] INFO: - Role.nom: client
[2025-05-19 13:56:46] INFO: - Role.role_type: client
[2025-05-19 13:56:46] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:56:46] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:56:46] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:56:46] INFO: Récupération des modules pour l'utilisateur ID: 8
[2025-05-19 13:56:46] INFO: Demande effectuée par: ID 8, rôle: client, isAdmin: false, isSelf: true
[2025-05-19 13:56:46] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `suiviModules`.`id` AS `suiviModules.id`, `suiviModules`.`user_id` AS `suiviModules.user_id`, `suiviModules`.`module_id` AS `suiviModules.module_id`, `suiviModules`.`progression` AS `suiviModules.progression`, `suiviModules`.`status_id` AS `suiviModules.status_id`, `suiviModules`.`date_completion` AS `suiviModules.date_completion`, `suiviModules`.`date_mise_a_jour` AS `suiviModules.date_mise_a_jour`, `suiviModules->status`.`id` AS `suiviModules.status.id`, `suiviModules->status`.`type_status` AS `suiviModules.status.type_status` FROM `users` AS `User` LEFT OUTER JOIN `suivi_module` AS `suiviModules` ON `User`.`id` = `suiviModules`.`user_id` LEFT OUTER JOIN `status_suivi` AS `suiviModules->status` ON `suiviModules`.`status_id` = `suiviModules->status`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:56:46] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id`;
[2025-05-19 13:56:46] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `modules`.`id` AS `modules.id`, `modules->ModulesUsers`.`id` AS `modules.ModulesUsers.id`, `modules->ModulesUsers`.`module_id` AS `modules.ModulesUsers.module_id`, `modules->ModulesUsers`.`user_id` AS `modules.ModulesUsers.user_id`, `modules->ModulesUsers`.`date_affectation` AS `modules.ModulesUsers.date_affectation`, `modules->ModulesUsers`.`created_at` AS `modules.ModulesUsers.created_at`, `modules->ModulesUsers`.`updated_at` AS `modules.ModulesUsers.updated_at` FROM `users` AS `User` LEFT OUTER JOIN ( `modules_users` AS `modules->ModulesUsers` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModulesUsers`.`module_id`) ON `User`.`id` = `modules->ModulesUsers`.`user_id` WHERE `User`.`id` = '8';
[2025-05-19 13:56:46] INFO: Modules assignés à l'utilisateur 8: 7
[2025-05-19 13:56:46] INFO: Modules filtrés (publiés et assignés) pour l'utilisateur 8: 7
[2025-05-19 13:56:46] INFO: Module 7 - Données de suivi_module: progression=100, status_id=3, status=TERMINE
[2025-05-19 13:56:46] INFO: Module 7 - Progression existante trouvée: 100%, Statut: TERMINE
[2025-05-19 13:56:46] INFO: Module 1: ID=7, Titre="test module", Statut=publié, Séances=1, Progression=100%, Status=TERMINE
[2025-05-19 13:56:46] INFO: ::1 - - [19/May/2025:11:56:46 +0000] "GET /api/modules/user/8 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:06] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:06] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:06] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:06] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:06] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:06] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:06] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:06] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:06] INFO: - ID: 8
[2025-05-19 13:57:06] INFO: - Email: test1@test.com
[2025-05-19 13:57:06] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:06] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:06] INFO: - role_nom: client
[2025-05-19 13:57:06] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:06] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:06] INFO: - ID: 8
[2025-05-19 13:57:06] INFO: - Email: test1@test.com
[2025-05-19 13:57:06] INFO: - Role.id: 4
[2025-05-19 13:57:06] INFO: - Role.nom: client
[2025-05-19 13:57:06] INFO: - Role.role_type: client
[2025-05-19 13:57:06] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:06] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:06] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:06] INFO: [getModuleById] Récupération du module 7 par l'utilisateur 8 (rôle: client)
[2025-05-19 13:57:06] INFO: [getModuleById] Informations utilisateur complètes: {"id":8,"mail":"test1@test.com","mdp":"$2b$10$AsqnH2brmTI9u3lfHdBOAuGXKyUdokc3gZ1i5kHbeb5sGJYv0EOcG","prenom":"Jason","nom":"Jako","date_naissance":"2025-05-08","role_id":4,"active":1,"created_at":"2025-05-17T00:13:43.000Z","updated_at":"2025-05-17T00:13:43.000Z","role_id_from_join":4,"role_nom":"client","role_description":"Client participant aux formations","role":{"id":4,"nom":"client","description":"Client participant aux formations","role_type":"client"}}
[2025-05-19 13:57:06] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:06] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:06] INFO: - ID: 8
[2025-05-19 13:57:06] INFO: - Email: test1@test.com
[2025-05-19 13:57:06] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:06] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:06] INFO: - role_nom: client
[2025-05-19 13:57:06] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:06] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:06] INFO: - ID: 8
[2025-05-19 13:57:06] INFO: - Email: test1@test.com
[2025-05-19 13:57:06] INFO: - Role.id: 4
[2025-05-19 13:57:06] INFO: - Role.nom: client
[2025-05-19 13:57:06] INFO: - Role.role_type: client
[2025-05-19 13:57:06] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:06] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:06] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:06] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` WHERE `Module`.`id` = '7';
[2025-05-19 13:57:06] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module` WHERE `Module`.`id` = '7';
[2025-05-19 13:57:06] INFO: [getModuleById] Rôle utilisateur: nom=client, Est admin: false
[2025-05-19 13:57:06] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `modules->ModulesUsers`.`id` AS `modules.ModulesUsers.id`, `modules->ModulesUsers`.`module_id` AS `modules.ModulesUsers.module_id`, `modules->ModulesUsers`.`user_id` AS `modules.ModulesUsers.user_id`, `modules->ModulesUsers`.`date_affectation` AS `modules.ModulesUsers.date_affectation`, `modules->ModulesUsers`.`created_at` AS `modules.ModulesUsers.created_at`, `modules->ModulesUsers`.`updated_at` AS `modules.ModulesUsers.updated_at` FROM `users` AS `User` INNER JOIN ( `modules_users` AS `modules->ModulesUsers` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModulesUsers`.`module_id`) ON `User`.`id` = `modules->ModulesUsers`.`user_id` AND `modules`.`id` = '7' WHERE `User`.`id` = 8;
[2025-05-19 13:57:06] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions`, `seances->activites`.`id` AS `seances.activites.id`, `seances->activites`.`contenu` AS `seances.activites.contenu`, `seances->activites`.`date_creation` AS `seances.activites.date_creation`, `seances->activites`.`updated_at` AS `seances.activites.updated_at`, `seances->activites`.`titre` AS `seances.activites.titre`, `seances->activites`.`description` AS `seances.activites.description`, `seances->activites`.`type_activite_id` AS `seances.activites.type_activite_id`, `seances->activites`.`duree` AS `seances.activites.duree`, `seances->activites->seanceActivite`.`id` AS `seances.activites.seanceActivite.id`, `seances->activites->seanceActivite`.`ordre` AS `seances.activites.seanceActivite.ordre` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` LEFT OUTER JOIN ( `seance_activite` AS `seances->activites->seanceActivite` INNER JOIN `activites` AS `seances->activites` ON `seances->activites`.`id` = `seances->activites->seanceActivite`.`activite_id`) ON `seances`.`id` = `seances->activites->seanceActivite`.`seance_id` WHERE `Module`.`id` = '7';
[2025-05-19 13:57:06] INFO: [getModuleById] Module 7: Séances associées: 10
[2025-05-19 13:57:06] DEBUG: Executing (default): SELECT `Suivi`.`id`, `Suivi`.`progression`, `Suivi`.`update_suivi`, `Suivi`.`seance_id`, `Suivi`.`user_id`, `Suivi`.`status_id`, `status`.`id` AS `status.id`, `status`.`type_status` AS `status.type_status` FROM `suivi` AS `Suivi` LEFT OUTER JOIN `status_suivi` AS `status` ON `Suivi`.`status_id` = `status`.`id` WHERE `Suivi`.`user_id` = 8 AND `Suivi`.`seance_id` IN (10);
[2025-05-19 13:57:06] INFO: ::1 - - [19/May/2025:11:57:06 +0000] "GET /api/seances/module/7 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:06] INFO: [getModuleById] Suivis trouvés pour le module 7: 1
[2025-05-19 13:57:06] INFO: [getModuleById] Progression du client 8 sur le module 7: 100.00%
[2025-05-19 13:57:06] INFO: ::1 - - [19/May/2025:11:57:06 +0000] "GET /api/modules/7 HTTP/1.1" 200 747 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:14] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `modules->ModuleSeance`.`id` AS `modules.ModuleSeance.id`, `modules->ModuleSeance`.`module_id` AS `modules.ModuleSeance.module_id`, `modules->ModuleSeance`.`seance_id` AS `modules.ModuleSeance.seance_id`, `modules->ModuleSeance`.`positions` AS `modules.ModuleSeance.positions`, `modules->ModuleSeance`.`created_at` AS `modules.ModuleSeance.created_at`, `modules->ModuleSeance`.`updated_at` AS `modules.ModuleSeance.updated_at` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN ( `module_seance` AS `modules->ModuleSeance` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModuleSeance`.`module_id`) ON `Seance`.`id` = `modules->ModuleSeance`.`seance_id` WHERE `Seance`.`id` = '10';
[2025-05-19 13:57:14] INFO: ::1 - - [19/May/2025:11:57:14 +0000] "GET /api/seances/10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:14] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:14] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:14] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:14] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:14] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:14] INFO: - ID: 8
[2025-05-19 13:57:14] INFO: - Email: test1@test.com
[2025-05-19 13:57:14] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:14] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:14] INFO: - role_nom: client
[2025-05-19 13:57:14] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:14] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:14] INFO: - ID: 8
[2025-05-19 13:57:14] INFO: - Email: test1@test.com
[2025-05-19 13:57:14] INFO: - Role.id: 4
[2025-05-19 13:57:14] INFO: - Role.nom: client
[2025-05-19 13:57:14] INFO: - Role.role_type: client
[2025-05-19 13:57:14] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:14] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:14] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:14] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '10';
[2025-05-19 13:57:14] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '10';
[2025-05-19 13:57:14] INFO: ::1 - - [19/May/2025:11:57:14 +0000] "GET /api/activites/seance/10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:15] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:15] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:15] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:15] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:15] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:15] INFO: - ID: 8
[2025-05-19 13:57:15] INFO: - Email: test1@test.com
[2025-05-19 13:57:15] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:15] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:15] INFO: - role_nom: client
[2025-05-19 13:57:15] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:15] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:15] INFO: - ID: 8
[2025-05-19 13:57:15] INFO: - Email: test1@test.com
[2025-05-19 13:57:15] INFO: - Role.id: 4
[2025-05-19 13:57:15] INFO: - Role.nom: client
[2025-05-19 13:57:15] INFO: - Role.role_type: client
[2025-05-19 13:57:15] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:15] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:15] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:15] INFO: Récupération des modules pour l'utilisateur ID: 8
[2025-05-19 13:57:15] INFO: Demande effectuée par: ID 8, rôle: client, isAdmin: false, isSelf: true
[2025-05-19 13:57:15] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `suiviModules`.`id` AS `suiviModules.id`, `suiviModules`.`user_id` AS `suiviModules.user_id`, `suiviModules`.`module_id` AS `suiviModules.module_id`, `suiviModules`.`progression` AS `suiviModules.progression`, `suiviModules`.`status_id` AS `suiviModules.status_id`, `suiviModules`.`date_completion` AS `suiviModules.date_completion`, `suiviModules`.`date_mise_a_jour` AS `suiviModules.date_mise_a_jour`, `suiviModules->status`.`id` AS `suiviModules.status.id`, `suiviModules->status`.`type_status` AS `suiviModules.status.type_status` FROM `users` AS `User` LEFT OUTER JOIN `suivi_module` AS `suiviModules` ON `User`.`id` = `suiviModules`.`user_id` LEFT OUTER JOIN `status_suivi` AS `suiviModules->status` ON `suiviModules`.`status_id` = `suiviModules->status`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:57:15] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id`;
[2025-05-19 13:57:15] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `modules`.`id` AS `modules.id`, `modules->ModulesUsers`.`id` AS `modules.ModulesUsers.id`, `modules->ModulesUsers`.`module_id` AS `modules.ModulesUsers.module_id`, `modules->ModulesUsers`.`user_id` AS `modules.ModulesUsers.user_id`, `modules->ModulesUsers`.`date_affectation` AS `modules.ModulesUsers.date_affectation`, `modules->ModulesUsers`.`created_at` AS `modules.ModulesUsers.created_at`, `modules->ModulesUsers`.`updated_at` AS `modules.ModulesUsers.updated_at` FROM `users` AS `User` LEFT OUTER JOIN ( `modules_users` AS `modules->ModulesUsers` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModulesUsers`.`module_id`) ON `User`.`id` = `modules->ModulesUsers`.`user_id` WHERE `User`.`id` = '8';
[2025-05-19 13:57:15] INFO: Modules assignés à l'utilisateur 8: 7
[2025-05-19 13:57:15] INFO: Modules filtrés (publiés et assignés) pour l'utilisateur 8: 7
[2025-05-19 13:57:15] INFO: Module 7 - Données de suivi_module: progression=100, status_id=3, status=TERMINE
[2025-05-19 13:57:15] INFO: Module 7 - Progression existante trouvée: 100%, Statut: TERMINE
[2025-05-19 13:57:15] INFO: Module 1: ID=7, Titre="test module", Statut=publié, Séances=1, Progression=100%, Status=TERMINE
[2025-05-19 13:57:15] INFO: ::1 - - [19/May/2025:11:57:15 +0000] "GET /api/modules/user/8 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:16] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:16] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:16] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:16] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:16] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:16] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:16] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:16] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:16] INFO: - ID: 8
[2025-05-19 13:57:16] INFO: - Email: test1@test.com
[2025-05-19 13:57:16] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:16] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:16] INFO: - role_nom: client
[2025-05-19 13:57:16] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:16] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:16] INFO: - ID: 8
[2025-05-19 13:57:16] INFO: - Email: test1@test.com
[2025-05-19 13:57:16] INFO: - Role.id: 4
[2025-05-19 13:57:16] INFO: - Role.nom: client
[2025-05-19 13:57:16] INFO: - Role.role_type: client
[2025-05-19 13:57:16] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:16] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:16] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:16] INFO: [getModuleById] Récupération du module 7 par l'utilisateur 8 (rôle: client)
[2025-05-19 13:57:16] INFO: [getModuleById] Informations utilisateur complètes: {"id":8,"mail":"test1@test.com","mdp":"$2b$10$AsqnH2brmTI9u3lfHdBOAuGXKyUdokc3gZ1i5kHbeb5sGJYv0EOcG","prenom":"Jason","nom":"Jako","date_naissance":"2025-05-08","role_id":4,"active":1,"created_at":"2025-05-17T00:13:43.000Z","updated_at":"2025-05-17T00:13:43.000Z","role_id_from_join":4,"role_nom":"client","role_description":"Client participant aux formations","role":{"id":4,"nom":"client","description":"Client participant aux formations","role_type":"client"}}
[2025-05-19 13:57:16] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:16] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:16] INFO: - ID: 8
[2025-05-19 13:57:16] INFO: - Email: test1@test.com
[2025-05-19 13:57:16] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:16] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:16] INFO: - role_nom: client
[2025-05-19 13:57:16] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:16] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:16] INFO: - ID: 8
[2025-05-19 13:57:16] INFO: - Email: test1@test.com
[2025-05-19 13:57:16] INFO: - Role.id: 4
[2025-05-19 13:57:16] INFO: - Role.nom: client
[2025-05-19 13:57:16] INFO: - Role.role_type: client
[2025-05-19 13:57:16] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:16] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:16] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:16] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` WHERE `Module`.`id` = '7';
[2025-05-19 13:57:16] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `niveau`, `duree`, `image_url`, `objectifs`, `statut`, `date_creation`, `updated_at`, `created_by` FROM `modules` AS `Module` WHERE `Module`.`id` = '7';
[2025-05-19 13:57:16] INFO: [getModuleById] Rôle utilisateur: nom=client, Est admin: false
[2025-05-19 13:57:16] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `modules->ModulesUsers`.`id` AS `modules.ModulesUsers.id`, `modules->ModulesUsers`.`module_id` AS `modules.ModulesUsers.module_id`, `modules->ModulesUsers`.`user_id` AS `modules.ModulesUsers.user_id`, `modules->ModulesUsers`.`date_affectation` AS `modules.ModulesUsers.date_affectation`, `modules->ModulesUsers`.`created_at` AS `modules.ModulesUsers.created_at`, `modules->ModulesUsers`.`updated_at` AS `modules.ModulesUsers.updated_at` FROM `users` AS `User` INNER JOIN ( `modules_users` AS `modules->ModulesUsers` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModulesUsers`.`module_id`) ON `User`.`id` = `modules->ModulesUsers`.`user_id` AND `modules`.`id` = '7' WHERE `User`.`id` = 8;
[2025-05-19 13:57:16] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions`, `seances->activites`.`id` AS `seances.activites.id`, `seances->activites`.`contenu` AS `seances.activites.contenu`, `seances->activites`.`date_creation` AS `seances.activites.date_creation`, `seances->activites`.`updated_at` AS `seances.activites.updated_at`, `seances->activites`.`titre` AS `seances.activites.titre`, `seances->activites`.`description` AS `seances.activites.description`, `seances->activites`.`type_activite_id` AS `seances.activites.type_activite_id`, `seances->activites`.`duree` AS `seances.activites.duree`, `seances->activites->seanceActivite`.`id` AS `seances.activites.seanceActivite.id`, `seances->activites->seanceActivite`.`ordre` AS `seances.activites.seanceActivite.ordre` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id` LEFT OUTER JOIN ( `seance_activite` AS `seances->activites->seanceActivite` INNER JOIN `activites` AS `seances->activites` ON `seances->activites`.`id` = `seances->activites->seanceActivite`.`activite_id`) ON `seances`.`id` = `seances->activites->seanceActivite`.`seance_id` WHERE `Module`.`id` = '7';
[2025-05-19 13:57:16] INFO: [getModuleById] Module 7: Séances associées: 10
[2025-05-19 13:57:16] DEBUG: Executing (default): SELECT `Suivi`.`id`, `Suivi`.`progression`, `Suivi`.`update_suivi`, `Suivi`.`seance_id`, `Suivi`.`user_id`, `Suivi`.`status_id`, `status`.`id` AS `status.id`, `status`.`type_status` AS `status.type_status` FROM `suivi` AS `Suivi` LEFT OUTER JOIN `status_suivi` AS `status` ON `Suivi`.`status_id` = `status`.`id` WHERE `Suivi`.`user_id` = 8 AND `Suivi`.`seance_id` IN (10);
[2025-05-19 13:57:16] INFO: ::1 - - [19/May/2025:11:57:16 +0000] "GET /api/seances/module/7 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:16] INFO: [getModuleById] Suivis trouvés pour le module 7: 1
[2025-05-19 13:57:16] INFO: [getModuleById] Progression du client 8 sur le module 7: 100.00%
[2025-05-19 13:57:16] INFO: ::1 - - [19/May/2025:11:57:16 +0000] "GET /api/modules/7 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:19] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `modules->ModuleSeance`.`id` AS `modules.ModuleSeance.id`, `modules->ModuleSeance`.`module_id` AS `modules.ModuleSeance.module_id`, `modules->ModuleSeance`.`seance_id` AS `modules.ModuleSeance.seance_id`, `modules->ModuleSeance`.`positions` AS `modules.ModuleSeance.positions`, `modules->ModuleSeance`.`created_at` AS `modules.ModuleSeance.created_at`, `modules->ModuleSeance`.`updated_at` AS `modules.ModuleSeance.updated_at` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN ( `module_seance` AS `modules->ModuleSeance` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModuleSeance`.`module_id`) ON `Seance`.`id` = `modules->ModuleSeance`.`seance_id` WHERE `Seance`.`id` = '10';
[2025-05-19 13:57:19] INFO: ::1 - - [19/May/2025:11:57:19 +0000] "GET /api/seances/10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:19] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:19] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:19] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:19] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:19] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:19] INFO: - ID: 8
[2025-05-19 13:57:19] INFO: - Email: test1@test.com
[2025-05-19 13:57:19] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:19] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:19] INFO: - role_nom: client
[2025-05-19 13:57:19] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:19] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:19] INFO: - ID: 8
[2025-05-19 13:57:19] INFO: - Email: test1@test.com
[2025-05-19 13:57:19] INFO: - Role.id: 4
[2025-05-19 13:57:19] INFO: - Role.nom: client
[2025-05-19 13:57:19] INFO: - Role.role_type: client
[2025-05-19 13:57:19] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:19] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:19] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:19] DEBUG: Executing (default): SELECT `id`, `titre`, `description`, `duree`, `type`, `contenu`, `ressources`, `created_by`, `active`, `date_creation`, `created_at`, `updated_at` FROM `seances` AS `Seance` WHERE `Seance`.`id` = '10';
[2025-05-19 13:57:19] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `activites`.`id` AS `activites.id`, `activites`.`contenu` AS `activites.contenu`, `activites`.`date_creation` AS `activites.date_creation`, `activites`.`updated_at` AS `activites.updated_at`, `activites`.`titre` AS `activites.titre`, `activites`.`description` AS `activites.description`, `activites`.`type_activite_id` AS `activites.type_activite_id`, `activites`.`duree` AS `activites.duree`, `activites->seanceActivite`.`id` AS `activites.seanceActivite.id`, `activites->seanceActivite`.`ordre` AS `activites.seanceActivite.ordre`, `activites->typeActivite`.`id` AS `activites.typeActivite.id`, `activites->typeActivite`.`type_activite` AS `activites.typeActivite.type_activite`, `activites->typeActivite`.`couleur` AS `activites.typeActivite.couleur` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `seance_activite` AS `activites->seanceActivite` INNER JOIN `activites` AS `activites` ON `activites`.`id` = `activites->seanceActivite`.`activite_id`) ON `Seance`.`id` = `activites->seanceActivite`.`seance_id` LEFT OUTER JOIN `type_activites` AS `activites->typeActivite` ON `activites`.`type_activite_id` = `activites->typeActivite`.`id` WHERE `Seance`.`id` = '10';
[2025-05-19 13:57:19] INFO: ::1 - - [19/May/2025:11:57:19 +0000] "GET /api/activites/seance/10 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:29] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:29] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:29] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:29] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:29] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:29] INFO: - ID: 8
[2025-05-19 13:57:29] INFO: - Email: test1@test.com
[2025-05-19 13:57:29] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:29] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:29] INFO: - role_nom: client
[2025-05-19 13:57:29] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:29] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:29] INFO: - ID: 8
[2025-05-19 13:57:29] INFO: - Email: test1@test.com
[2025-05-19 13:57:29] INFO: - Role.id: 4
[2025-05-19 13:57:29] INFO: - Role.nom: client
[2025-05-19 13:57:29] INFO: - Role.role_type: client
[2025-05-19 13:57:29] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:29] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:29] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:29] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->seanceActivite`.`id` AS `seances.seanceActivite.id`, `seances->seanceActivite`.`ordre` AS `seances.seanceActivite.ordre` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` LEFT OUTER JOIN ( `seance_activite` AS `seances->seanceActivite` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->seanceActivite`.`seance_id`) ON `Activite`.`id` = `seances->seanceActivite`.`activite_id` WHERE `Activite`.`id` = '14';
[2025-05-19 13:57:29] INFO: ::1 - - [19/May/2025:11:57:29 +0000] "GET /api/activites/14 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:29] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:29] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:29] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:29] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:29] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:29] INFO: - ID: 8
[2025-05-19 13:57:29] INFO: - Email: test1@test.com
[2025-05-19 13:57:29] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:29] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:29] INFO: - role_nom: client
[2025-05-19 13:57:29] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:29] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:29] INFO: - ID: 8
[2025-05-19 13:57:29] INFO: - Email: test1@test.com
[2025-05-19 13:57:29] INFO: - Role.id: 4
[2025-05-19 13:57:29] INFO: - Role.nom: client
[2025-05-19 13:57:29] INFO: - Role.role_type: client
[2025-05-19 13:57:29] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:29] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:29] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:29] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` WHERE `Activite`.`id` = '14';
[2025-05-19 13:57:29] DEBUG: Executing (default): SELECT `id`, `user_id`, `activite_id`, `contenu`, `date_soumission`, `feedback`, `created_at`, `updated_at` FROM `reponse_client` AS `ReponseClient` WHERE `ReponseClient`.`activite_id` = '14' AND `ReponseClient`.`user_id` = 8 LIMIT 1;
[2025-05-19 13:57:29] DEBUG: Executing (default): UPDATE `reponse_client` SET `updated_at`=? WHERE `id` = ?
[2025-05-19 13:57:29] INFO: Réponse mise à jour pour l'activité 14 par l'utilisateur 8
[2025-05-19 13:57:29] INFO: ::1 - - [19/May/2025:11:57:29 +0000] "POST /api/activites/14/reponses HTTP/1.1" 200 351 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:31] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:31] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:31] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:31] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:31] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:31] INFO: - ID: 8
[2025-05-19 13:57:31] INFO: - Email: test1@test.com
[2025-05-19 13:57:31] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:31] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:31] INFO: - role_nom: client
[2025-05-19 13:57:31] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:31] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:31] INFO: - ID: 8
[2025-05-19 13:57:31] INFO: - Email: test1@test.com
[2025-05-19 13:57:31] INFO: - Role.id: 4
[2025-05-19 13:57:31] INFO: - Role.nom: client
[2025-05-19 13:57:31] INFO: - Role.role_type: client
[2025-05-19 13:57:31] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:31] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:31] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:31] DEBUG: Executing (default): SELECT `id`, `contenu`, `date_creation`, `updated_at`, `titre`, `description`, `type_activite_id`, `duree` FROM `activites` AS `Activite` WHERE `Activite`.`id` = '16';
[2025-05-19 13:57:31] DEBUG: Executing (default): SELECT `id`, `nom`, `prenom`, `mail`, `mdp`, `date_naissance`, `role_id`, `active`, `created_at`, `updated_at` FROM `users` AS `User` WHERE `User`.`id` = '8';
[2025-05-19 13:57:31] DEBUG: Executing (default): SELECT `id`, `user_id`, `activite_id`, `contenu`, `date_soumission`, `feedback`, `created_at`, `updated_at` FROM `reponse_client` AS `ReponseClient` WHERE `ReponseClient`.`activite_id` = '16' AND `ReponseClient`.`user_id` = '8' LIMIT 1;
[2025-05-19 13:57:31] INFO: ::1 - - [19/May/2025:11:57:31 +0000] "GET /api/activites/16/reponses/8 HTTP/1.1" 404 120 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:47] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:47] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:47] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:47] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:47] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:47] INFO: - ID: 8
[2025-05-19 13:57:47] INFO: - Email: test1@test.com
[2025-05-19 13:57:47] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:47] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:47] INFO: - role_nom: client
[2025-05-19 13:57:47] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:47] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:47] INFO: - ID: 8
[2025-05-19 13:57:47] INFO: - Email: test1@test.com
[2025-05-19 13:57:47] INFO: - Role.id: 4
[2025-05-19 13:57:47] INFO: - Role.nom: client
[2025-05-19 13:57:47] INFO: - Role.role_type: client
[2025-05-19 13:57:47] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:47] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:47] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:47] DEBUG: Executing (default): SELECT `Activite`.`id`, `Activite`.`contenu`, `Activite`.`date_creation`, `Activite`.`updated_at`, `Activite`.`titre`, `Activite`.`description`, `Activite`.`type_activite_id`, `Activite`.`duree`, `typeActivite`.`id` AS `typeActivite.id`, `typeActivite`.`type_activite` AS `typeActivite.type_activite`, `typeActivite`.`couleur` AS `typeActivite.couleur` FROM `activites` AS `Activite` LEFT OUTER JOIN `type_activites` AS `typeActivite` ON `Activite`.`type_activite_id` = `typeActivite`.`id` WHERE `Activite`.`id` = '16';
[2025-05-19 13:57:47] DEBUG: Executing (default): SELECT `id`, `user_id`, `activite_id`, `contenu`, `date_soumission`, `feedback`, `created_at`, `updated_at` FROM `reponse_client` AS `ReponseClient` WHERE `ReponseClient`.`activite_id` = '16' AND `ReponseClient`.`user_id` = 8 LIMIT 1;
[2025-05-19 13:57:47] ERROR: Erreur lors de l'enregistrement de la réponse: notNull Violation: ReponseClient.contenu cannot be null
[2025-05-19 13:57:47] INFO: ::1 - - [19/May/2025:11:57:47 +0000] "POST /api/activites/16/reponses HTTP/1.1" 500 102 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:57:57] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:57:57] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:57] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:57:57] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:57:57] INFO: Données utilisateur récupérées:
[2025-05-19 13:57:57] INFO: - ID: 8
[2025-05-19 13:57:57] INFO: - Email: test1@test.com
[2025-05-19 13:57:57] INFO: - role_id depuis la table users: 4
[2025-05-19 13:57:57] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:57:57] INFO: - role_nom: client
[2025-05-19 13:57:57] INFO: - role_description: Client participant aux formations
[2025-05-19 13:57:57] INFO: Objet utilisateur final construit:
[2025-05-19 13:57:57] INFO: - ID: 8
[2025-05-19 13:57:57] INFO: - Email: test1@test.com
[2025-05-19 13:57:57] INFO: - Role.id: 4
[2025-05-19 13:57:57] INFO: - Role.nom: client
[2025-05-19 13:57:57] INFO: - Role.role_type: client
[2025-05-19 13:57:57] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:57:57] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:57:57] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:57:57] DEBUG: Executing (default): SELECT `id`, `contenu`, `date_creation`, `updated_at`, `titre`, `description`, `type_activite_id`, `duree` FROM `activites` AS `Activite` WHERE `Activite`.`id` = '15';
[2025-05-19 13:57:57] DEBUG: Executing (default): SELECT `id`, `nom`, `prenom`, `mail`, `mdp`, `date_naissance`, `role_id`, `active`, `created_at`, `updated_at` FROM `users` AS `User` WHERE `User`.`id` = '8';
[2025-05-19 13:57:57] DEBUG: Executing (default): SELECT `id`, `user_id`, `activite_id`, `contenu`, `date_soumission`, `feedback`, `created_at`, `updated_at` FROM `reponse_client` AS `ReponseClient` WHERE `ReponseClient`.`activite_id` = '15' AND `ReponseClient`.`user_id` = '8' LIMIT 1;
[2025-05-19 13:57:57] INFO: ::1 - - [19/May/2025:11:57:57 +0000] "GET /api/activites/15/reponses/8 HTTP/1.1" 404 120 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:58:20] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:58:20] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:58:20] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:58:20] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:58:20] INFO: Données utilisateur récupérées:
[2025-05-19 13:58:20] INFO: - ID: 8
[2025-05-19 13:58:20] INFO: - Email: test1@test.com
[2025-05-19 13:58:20] INFO: - role_id depuis la table users: 4
[2025-05-19 13:58:20] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:58:20] INFO: - role_nom: client
[2025-05-19 13:58:20] INFO: - role_description: Client participant aux formations
[2025-05-19 13:58:20] INFO: Objet utilisateur final construit:
[2025-05-19 13:58:20] INFO: - ID: 8
[2025-05-19 13:58:20] INFO: - Email: test1@test.com
[2025-05-19 13:58:20] INFO: - Role.id: 4
[2025-05-19 13:58:20] INFO: - Role.nom: client
[2025-05-19 13:58:20] INFO: - Role.role_type: client
[2025-05-19 13:58:20] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:58:20] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:58:20] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:58:20] DEBUG: Executing (default): SELECT `Seance`.`id`, `Seance`.`titre`, `Seance`.`description`, `Seance`.`duree`, `Seance`.`type`, `Seance`.`contenu`, `Seance`.`ressources`, `Seance`.`created_by`, `Seance`.`active`, `Seance`.`date_creation`, `Seance`.`created_at`, `Seance`.`updated_at`, `modules`.`id` AS `modules.id`, `modules`.`titre` AS `modules.titre`, `modules`.`description` AS `modules.description`, `modules`.`niveau` AS `modules.niveau`, `modules`.`duree` AS `modules.duree`, `modules`.`image_url` AS `modules.image_url`, `modules`.`objectifs` AS `modules.objectifs`, `modules`.`statut` AS `modules.statut`, `modules`.`date_creation` AS `modules.date_creation`, `modules`.`updated_at` AS `modules.updated_at`, `modules`.`created_by` AS `modules.created_by`, `modules->ModuleSeance`.`id` AS `modules.ModuleSeance.id`, `modules->ModuleSeance`.`module_id` AS `modules.ModuleSeance.module_id`, `modules->ModuleSeance`.`seance_id` AS `modules.ModuleSeance.seance_id`, `modules->ModuleSeance`.`positions` AS `modules.ModuleSeance.positions`, `modules->ModuleSeance`.`created_at` AS `modules.ModuleSeance.created_at`, `modules->ModuleSeance`.`updated_at` AS `modules.ModuleSeance.updated_at` FROM `seances` AS `Seance` LEFT OUTER JOIN ( `module_seance` AS `modules->ModuleSeance` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModuleSeance`.`module_id`) ON `Seance`.`id` = `modules->ModuleSeance`.`seance_id` WHERE `Seance`.`id` = '10';
[2025-05-19 13:58:20] DEBUG: Executing (default): SELECT `id`, `nom`, `prenom`, `mail`, `mdp`, `date_naissance`, `role_id`, `active`, `created_at`, `updated_at` FROM `users` AS `User` WHERE `User`.`id` = 8;
[2025-05-19 13:58:20] DEBUG: Executing (default): SELECT `id`, `type_status` FROM `status_suivi` AS `StatusSuivi` WHERE `StatusSuivi`.`id` = 3;
[2025-05-19 13:58:20] DEBUG: Executing (default): SELECT `id`, `progression`, `update_suivi`, `seance_id`, `user_id`, `status_id` FROM `suivi` AS `Suivi` WHERE `Suivi`.`seance_id` = '10' AND `Suivi`.`user_id` = 8 LIMIT 1;
[2025-05-19 13:58:20] DEBUG: Executing (default): UPDATE `suivi` SET `progression`=?,`update_suivi`=? WHERE `id` = ?
[2025-05-19 13:58:20] DEBUG: Executing (default): SELECT `Suivi`.`id`, `Suivi`.`progression`, `Suivi`.`update_suivi`, `Suivi`.`seance_id`, `Suivi`.`user_id`, `Suivi`.`status_id`, `status`.`id` AS `status.id`, `status`.`type_status` AS `status.type_status` FROM `suivi` AS `Suivi` LEFT OUTER JOIN `status_suivi` AS `status` ON `Suivi`.`status_id` = `status`.`id` WHERE `Suivi`.`seance_id` = '10' AND `Suivi`.`user_id` = 8 LIMIT 1;
[2025-05-19 13:58:20] ERROR: Erreur lors de la mise à jour de la progression du module 7 pour l'utilisateur 8: Cannot read properties of undefined (reading 'findAll')
[2025-05-19 13:58:20] ERROR: Erreur lors de la mise à jour de la progression du module 7: Cannot read properties of undefined (reading 'findAll')
[2025-05-19 13:58:20] INFO: Suivi mis à jour pour la séance 10 et l'utilisateur 8
[2025-05-19 13:58:20] INFO: ::1 - - [19/May/2025:11:58:20 +0000] "PUT /api/seances/10/suivi HTTP/1.1" 200 209 "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:58:22] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:58:22] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:58:22] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:58:22] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:58:22] INFO: Données utilisateur récupérées:
[2025-05-19 13:58:22] INFO: - ID: 8
[2025-05-19 13:58:22] INFO: - Email: test1@test.com
[2025-05-19 13:58:22] INFO: - role_id depuis la table users: 4
[2025-05-19 13:58:22] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:58:22] INFO: - role_nom: client
[2025-05-19 13:58:22] INFO: - role_description: Client participant aux formations
[2025-05-19 13:58:22] INFO: Objet utilisateur final construit:
[2025-05-19 13:58:22] INFO: - ID: 8
[2025-05-19 13:58:22] INFO: - Email: test1@test.com
[2025-05-19 13:58:22] INFO: - Role.id: 4
[2025-05-19 13:58:22] INFO: - Role.nom: client
[2025-05-19 13:58:22] INFO: - Role.role_type: client
[2025-05-19 13:58:22] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:58:22] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:58:22] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:58:22] INFO: Récupération des modules pour l'utilisateur ID: 8
[2025-05-19 13:58:22] INFO: Demande effectuée par: ID 8, rôle: client, isAdmin: false, isSelf: true
[2025-05-19 13:58:22] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `suiviModules`.`id` AS `suiviModules.id`, `suiviModules`.`user_id` AS `suiviModules.user_id`, `suiviModules`.`module_id` AS `suiviModules.module_id`, `suiviModules`.`progression` AS `suiviModules.progression`, `suiviModules`.`status_id` AS `suiviModules.status_id`, `suiviModules`.`date_completion` AS `suiviModules.date_completion`, `suiviModules`.`date_mise_a_jour` AS `suiviModules.date_mise_a_jour`, `suiviModules->status`.`id` AS `suiviModules.status.id`, `suiviModules->status`.`type_status` AS `suiviModules.status.type_status` FROM `users` AS `User` LEFT OUTER JOIN `suivi_module` AS `suiviModules` ON `User`.`id` = `suiviModules`.`user_id` LEFT OUTER JOIN `status_suivi` AS `suiviModules->status` ON `suiviModules`.`status_id` = `suiviModules->status`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:58:22] DEBUG: Executing (default): SELECT `Module`.`id`, `Module`.`titre`, `Module`.`description`, `Module`.`niveau`, `Module`.`duree`, `Module`.`image_url`, `Module`.`objectifs`, `Module`.`statut`, `Module`.`date_creation`, `Module`.`updated_at`, `Module`.`created_by`, `seances`.`id` AS `seances.id`, `seances`.`titre` AS `seances.titre`, `seances`.`description` AS `seances.description`, `seances`.`duree` AS `seances.duree`, `seances`.`type` AS `seances.type`, `seances`.`contenu` AS `seances.contenu`, `seances`.`ressources` AS `seances.ressources`, `seances`.`created_by` AS `seances.created_by`, `seances`.`active` AS `seances.active`, `seances`.`date_creation` AS `seances.date_creation`, `seances`.`created_at` AS `seances.created_at`, `seances`.`updated_at` AS `seances.updated_at`, `seances->ModuleSeance`.`id` AS `seances.ModuleSeance.id`, `seances->ModuleSeance`.`positions` AS `seances.ModuleSeance.positions` FROM `modules` AS `Module` LEFT OUTER JOIN ( `module_seance` AS `seances->ModuleSeance` INNER JOIN `seances` AS `seances` ON `seances`.`id` = `seances->ModuleSeance`.`seance_id`) ON `Module`.`id` = `seances->ModuleSeance`.`module_id`;
[2025-05-19 13:58:22] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`mdp`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `modules`.`id` AS `modules.id`, `modules->ModulesUsers`.`id` AS `modules.ModulesUsers.id`, `modules->ModulesUsers`.`module_id` AS `modules.ModulesUsers.module_id`, `modules->ModulesUsers`.`user_id` AS `modules.ModulesUsers.user_id`, `modules->ModulesUsers`.`date_affectation` AS `modules.ModulesUsers.date_affectation`, `modules->ModulesUsers`.`created_at` AS `modules.ModulesUsers.created_at`, `modules->ModulesUsers`.`updated_at` AS `modules.ModulesUsers.updated_at` FROM `users` AS `User` LEFT OUTER JOIN ( `modules_users` AS `modules->ModulesUsers` INNER JOIN `modules` AS `modules` ON `modules`.`id` = `modules->ModulesUsers`.`module_id`) ON `User`.`id` = `modules->ModulesUsers`.`user_id` WHERE `User`.`id` = '8';
[2025-05-19 13:58:22] INFO: Modules assignés à l'utilisateur 8: 7
[2025-05-19 13:58:22] INFO: Modules filtrés (publiés et assignés) pour l'utilisateur 8: 7
[2025-05-19 13:58:22] INFO: Module 7 - Données de suivi_module: progression=100, status_id=3, status=TERMINE
[2025-05-19 13:58:22] INFO: Module 7 - Progression existante trouvée: 100%, Statut: TERMINE
[2025-05-19 13:58:22] INFO: Module 1: ID=7, Titre="test module", Statut=publié, Séances=1, Progression=100%, Status=TERMINE
[2025-05-19 13:58:22] INFO: ::1 - - [19/May/2025:11:58:22 +0000] "GET /api/modules/user/8 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:58:46] INFO: 
========== IMPORTANT ==========
Contenu du token décodé: {"id":8,"iat":1747655780,"exp":1747742180}
==============================

[2025-05-19 13:58:46] INFO: ====== DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:58:46] INFO: Décodage du token pour l'utilisateur 8
[2025-05-19 13:58:46] DEBUG: Executing (default): SELECT u.*, r.id as role_id_from_join, r.nom as role_nom, r.description as role_description
      FROM users u
      LEFT JOIN roles r ON u.role_id = r.id
      WHERE u.id = 8
[2025-05-19 13:58:46] INFO: Données utilisateur récupérées:
[2025-05-19 13:58:46] INFO: - ID: 8
[2025-05-19 13:58:46] INFO: - Email: test1@test.com
[2025-05-19 13:58:46] INFO: - role_id depuis la table users: 4
[2025-05-19 13:58:46] INFO: - role_id depuis la jointure: 4
[2025-05-19 13:58:46] INFO: - role_nom: client
[2025-05-19 13:58:46] INFO: - role_description: Client participant aux formations
[2025-05-19 13:58:46] INFO: Objet utilisateur final construit:
[2025-05-19 13:58:46] INFO: - ID: 8
[2025-05-19 13:58:46] INFO: - Email: test1@test.com
[2025-05-19 13:58:46] INFO: - Role.id: 4
[2025-05-19 13:58:46] INFO: - Role.nom: client
[2025-05-19 13:58:46] INFO: - Role.role_type: client
[2025-05-19 13:58:46] INFO: - Role.description: Client participant aux formations
[2025-05-19 13:58:46] INFO: 
========== IMPORTANT ==========
Utilisateur test1@test.com authentifié avec le rôle: client
==============================

[2025-05-19 13:58:46] INFO: ====== FIN DÉBOGAGE AUTHENTIFICATION ======
[2025-05-19 13:58:46] DEBUG: Executing (default): SELECT `User`.`id`, `User`.`nom`, `User`.`prenom`, `User`.`mail`, `User`.`date_naissance`, `User`.`role_id`, `User`.`active`, `User`.`created_at`, `User`.`updated_at`, `role`.`id` AS `role.id`, `role`.`nom` AS `role.nom`, `role`.`description` AS `role.description`, `role`.`created_at` AS `role.created_at`, `role`.`updated_at` AS `role.updated_at` FROM `users` AS `User` LEFT OUTER JOIN `roles` AS `role` ON `User`.`role_id` = `role`.`id` WHERE `User`.`id` = '8';
[2025-05-19 13:58:46] INFO: ::1 - - [19/May/2025:11:58:46 +0000] "GET /api/users/8 HTTP/1.1" 304 - "http://localhost:4200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36"
[2025-05-19 13:58:53] INFO: Socket déconnecté: zocc_8h70I_HR9MYAAAZ
